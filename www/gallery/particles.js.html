<!DOCTYPE html>
      <html>
        <head>
          <title>example/particles.js</title>
          <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
          <meta charset=utf-8>
        </head>
        <body>
        <script type='text/javascript'>
        (function e$$0(g,m,a){function b(c,f){if(!m[c]){if(!g[c]){var p="function"==typeof require&&require;if(!f&&p)return p(c,!0);if(d)return d(c,!0);p=Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p;}p=m[c]={exports:{}};g[c][0].call(p.exports,function(a){var d=g[c][1][a];return b(d?d:a)},p,p.exports,e$$0,g,m,a)}return m[c].exports}for(var d="function"==typeof require&&require,c=0;c<a.length;c++)b(a[c]);return b})({1:[function(e,g,m){var a=e("../regl")(),b=e("gl-mat4"),d=e("hsv2rgb");
e=a.buffer(Array(1E4).fill().map(function(){var a=d(360*Math.random(),.6,1);return[10*Math.random(),10*Math.random(),10*Math.random(),10*Math.random(),2*Math.PI*Math.random(),2*Math.PI*Math.random(),2*Math.PI*Math.random(),2*Math.PI*Math.random(),a[0]/255,a[1]/255,a[2]/255]}));var c=a({vert:"\n  precision mediump float;\n  attribute vec4 freq, phase;\n  attribute vec3 color;\n  uniform float time;\n  uniform mat4 view, projection;\n  varying vec3 fragColor;\n  void main() {\n    vec3 position = 8.0 * cos(freq.xyz * time + phase.xyz);\n    gl_PointSize = 5.0 * (1.0 + cos(freq.w * time + phase.w));\n    gl_Position = projection * view * vec4(position, 1);\n    fragColor = color;\n  }",
frag:"\n  precision lowp float;\n  varying vec3 fragColor;\n  void main() {\n    if (length(gl_PointCoord.xy - 0.5) > 0.5) {\n      discard;\n    }\n    gl_FragColor = vec4(fragColor, 1);\n  }",attributes:{freq:{buffer:e,stride:44,offset:0},phase:{buffer:e,stride:44,offset:16},color:{buffer:e,stride:44,offset:32}},uniforms:{view:function(a,c,d){a=.01*d.count;return b.lookAt([],[30*Math.cos(a),2.5,30*Math.sin(a)],[0,0,0],[0,1,0])},projection:function(a,c,d){return b.perspective([],Math.PI/4,d.width/
d.height,.01,1E3)},time:function(a,b,d){return.001*d.count}},count:1E4,primitive:"points"});a.frame(function(){a.clear({depth:1,color:[0,0,0,1]});c()})},{"../regl":58,"gl-mat4":42,hsv2rgb:57}],2:[function(e,g,m){var a=e("./constants/dtypes.json");g.exports=function(b,d,c,n,f){function p(){this.pointer=!1;this.w=this.z=this.y=this.x=0;this.buffer=null;this.size=0;this.normalized=!1;this.type=5126;this.divisor=this.stride=this.offset=0}function h(a){this.records=[];this.name=a}function k(a,c,f,h){h=
f.size||h;var n;n=c.pointer?f.pointer&&c.buffer===f.buffer&&c.size===h&&c.normalized===f.normalized&&c.type===f.type&&c.offset===f.offset&&c.stride===f.stride&&c.divisor===f.divisor:!f.pointer&&c.x===f.x&&c.y===f.y&&c.z===f.z&&c.w===f.w;n||(f.pointer?(c.pointer||b.enableVertexAttribArray(a),c.buffer!==f.buffer&&f.buffer.bind(),b.vertexAttribPointer(a,h,f.type,f.normalized,f.stride,f.offset),(n=d.angle_instanced_arrays)&&n.vertexAttribDivisorANGLE(a,f.divisor)):(c.pointer&&b.disableVertexAttribArray(a),
b.vertexAttrib4f(a,f.x,f.y,f.z,f.w)),(c.pointer=f.pointer)?(c.buffer=f.buffer,c.size=h,c.normalized=f.normalized,c.type=f.type,c.offset=f.offset,c.stride=f.stride,c.divisor=f.divisor):(c.x=f.x,c.y=f.y,c.z=f.z,c.w=f.w))}var r={};c=c.maxAttributes;for(var e=Array(c),l=0;l<c;++l)e[l]=new p;return{bindings:e,bind:function(a,b,c,d){c=c.records;k(a,b,c[c.length-1],d)},bindRecord:k,def:function(a){var b=f.id(a),c=r[b];c||(c=r[b]=new h(a));return c},box:function(b){var c=[new p];return{alloc:function(b){var d;
d=0>=c.length?new p:c.pop();if("number"===typeof b)d.pointer=!1,d.x=b,d.y=0,d.z=0,d.w=0;else if(Array.isArray(b))d.pointer=!1,d.x=b[0],d.y=b[1],d.z=b[2],d.w=b[3];else{var f=n.getBuffer(b),h=0,l=0,k=0,r=0,e=!1,q=5126;f?q=f.dtype:(f=n.getBuffer(b.buffer),h=b.size||0,l=b.stride||0,k=b.offset||0,r=b.divisor||0,e=b.normalized||!1,q=f.dtype,"type"in b&&(q=a[b.type]));d.pointer=!0;d.buffer=f;d.size=h;d.offset=k;d.stride=l;d.divisor=r;d.normalized=e;d.type=q}return d},free:function(a){c.push(a)}}},state:r}}},
{"./constants/dtypes.json":6}],3:[function(e,g,m){function a(a,b){switch(a){case 5121:return new Uint8Array(b);case 5123:return new Uint16Array(b);case 5125:return new Uint32Array(b);case 5120:return new Int8Array(b);case 5122:return new Int16Array(b);case 5124:return new Int32Array(b);case 5126:return new Float32Array(b);default:return null}}var b=e("./util/is-typed-array"),d=e("./util/is-ndarray"),c=e("./constants/arraytypes.json"),n=e("./constants/dtypes.json"),f=e("./util/values"),p={"static":35044,
dynamic:35048,stream:35040};g.exports=function(h){function k(a,b){this.id=l++;this.buffer=a;this.type=b;this.usage=35044;this.byteLength=0;this.dimension=1;this.data=null;this.dtype=5121}function r(a){h.isBuffer(a.buffer)||(a.buffer=h.createBuffer());a.bind();h.bufferData(a.type,a.data||a.byteLength,a.usage)}function e(a){var b=a.buffer;h.isBuffer(b)&&h.deleteBuffer(b);a.buffer=null;delete q[a.id]}var l=0,q={};k.prototype.bind=function(){h.bindBuffer(this.type,this.buffer)};return{create:function(f,
l,g){function v(f){var h=f||{};if(Array.isArray(h)||b(h)||d(h))h={data:h};else if("number"===typeof h)h={length:h|0};else if(null===h||void 0===h)h={};D.usage="usage"in h?p[h.usage]:35044;f=0;"type"in h&&(f=n[h.type]);var l=h.dimension|0||1,t=0,k=null;if("data"in h)if(k=h.data,null===k)t=h.length|0;else{if(d(k)){var l=k.shape,t=k.stride,h=k.offset,e=0,q=0,g=0,z=0;1===l.length?(e=l[0],q=1,g=t[0],z=0):2===l.length&&(e=l[0],q=l[1],g=t[0],z=t[1]);f=f||c[Object.prototype.toString.call(k)]|0||5126;for(var l=
q,t=a(f,e*q),k=k.data,G=0,y=0;y<e;++y)for(var J=0;J<q;++J)t[G++]=k[g*y+z*J+h];k=t}else if(Array.isArray(k))if(0<k.length&&Array.isArray(k[0])){l=k[0].length;f=f||5126;h=a(f,k.length*l);t=k;k=l;for(e=z=0;e<t.length;++e)for(g=t[e],q=0;q<k;++q)h[z++]=g[q];k=h}else f=f||5126,k=a(f,k);else f=f||c[Object.prototype.toString.call(k)]|0;t=k.byteLength}else"length"in h&&(t=h.length|0);D.data=k;D.dtype=f||5121;D.byteLength=t;D.dimension=l;r(D);return v}var x=h.createBuffer(),D=new k(x,l);q[D.id]=D;g||v(f);v._reglType=
"buffer";v._buffer=D;v.destroy=function(){e(D)};return v},clear:function(){f(q).forEach(e)},refresh:function(){f(q).forEach(r)},getBuffer:function(a){return a&&a._buffer instanceof k?a._buffer:null}}}},{"./constants/arraytypes.json":5,"./constants/dtypes.json":6,"./util/is-ndarray":25,"./util/is-typed-array":26,"./util/values":32}],4:[function(e,g,m){function a(a){switch(a){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;
default:return 1}}function b(a,b,c,d){var f,h=",";switch(b){case 5126:f="1f";break;case 35664:f="2fv";break;case 35665:f="3fv";break;case 35666:f="4fv";break;case 35670:case 5124:f="1i";break;case 35671:case 35667:f="2iv";break;case 35672:case 35668:f="3iv";break;case 35673:case 35669:f="4iv";break;case 35674:f="Matrix2fv";h=",false,";break;case 35675:f="Matrix3fv";h=",false,";break;case 35676:f="Matrix4fv",h=",false,"}return a+".uniform"+f+"("+c+h+d+");"}function d(a){return a+"["+a+".length-1]"}
function c(a,b){return"framebuffer"===a||a<b?-1:a>b?1:0}var n=e("./util/codegen"),f=e("./constants/primitives.json"),p={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},h={never:512,less:513,"<":513,equal:514,"=":514,"==":514,
"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},k={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386};g.exports=function(e,g,l,q,t,z,y,v,x,D,w,m,B,V,Q){function S(t,q,g,G,C){function y(a){var b=L[a];return b?b:b=L[a]=H(N[a])}function x(a){var b=a.id,c=pa[b];if(c)return c;c=a.func?u.def(H(a.data),"(",Z,",",ca,",",fa,")"):u.def(Z,".",a.data);return pa[b]=c}function ja(a,
b){for(var c=0;c<a.length;++c)if(a[c].name===b)return a[c];return null}function m(a){return S&&!(a in q||a in C)}var A=n(),H=A.link,u=A.proc("batch"),T=A.block(),O=u.def,R=u.arg,F=H(e),aa=H(t.program),W=H(w.bind),M=H(w.bindRecord),fa=H(V),oa=H(v),ga=H(B.count),ia=H(B.offset),la=H(B.instances),I=H(B.primitive),L={},K=H(z.elements),ga=O(d(ga)),ia=O(d(ia)),I=O(d(I)),K=O(d(K)),P,Q,ha=l.angle_instanced_arrays;ha&&(P=O(d(la)),Q=H(ha));var S="elements"in q,la=R(),R=R(),Z=O(),ca=O(),pa={};u(F,".useProgram(",
aa,");");t.uniforms.forEach(function(a){if(!(a.name in g)){var c=H(a.location),d=H(D.def(a.name)),d=d+"["+d+".length-1]";a=a.info.type;35678===a||35680===a?(a=O(d+"._texture"),u(b(F,5124,c,a+".bind()")),T(a,".unbind();")):u(b(F,a,c,d))}});t.attributes.forEach(function(b){if(!(b.name in G)){var c=H(w.def(b.name));u(W,"(",b.location,",",H(w.bindings[b.location]),",",c,",",a(b.info.type),");")}});S||u("if(",K,")",F,".bindBuffer(",34963,",",K,".buffer.buffer);");u("for(",ca,"=0;",ca,"<",la,";++",ca,"){",
Z,"=",R,"[",ca,"];");Object.keys(q).sort(c).forEach(function(a){function b(a){u("if(",c,"){",F,".enable(",a,");}else{",F,".disable(",a,");}")}var c=x(q[a]);switch(a){case "framebuffer":a=y("viewport");var d=y("scissor.box");u("if(",oa,".push(",c,"&&",c,"._framebuffer)){",oa,".poll();",a,".setDirty();",d,".setDirty();","}");break;case "cull.enable":b(2884);break;case "blend.enable":b(3042);break;case "dither":b(3024);break;case "stencil.enable":b(2960);break;case "depth.enable":b(2929);break;case "scissor.enable":b(3089);
break;case "polygonOffset.enable":b(32823);break;case "sample.alpha":b(32926);break;case "sample.enable":b(32928);break;case "depth.mask":u(F,".depthMask(",c,");");break;case "depth.func":a=H(h);u(F,".depthFunc(",a,"[",c,"]);");break;case "depth.range":u(F,".depthRange(",c,"[0],",c,"[1]);");break;case "blend.color":u(F,".blendColor(",c,"[0],",c,"[1],",c,"[2],",c,"[3]);");break;case "blend.equation":a=H(E);u("if(typeof ",c,'==="string"){',F,".blendEquation(",a,"[",c,"]);","}else{",F,".blendEquationSeparate(",
a,"[",c,".rgb],",a,"[",c,".alpha]);","}");break;case "blend.func":a=H(p);u(F,".blendFuncSeparate(",a,'["srcRGB" in ',c,"?",c,".srcRGB:",c,".src],",a,'["dstRGB" in ',c,"?",c,".dstRGB:",c,".dst],",a,'["srcAlpha" in ',c,"?",c,".srcAlpha:",c,".src],",a,'["dstAlpha" in ',c,"?",c,".dstAlpha:",c,".dst]);");break;case "stencil.mask":u(F,".stencilMask(",c,");");break;case "stencil.func":a=H(h);u(F,".stencilFunc(",a,"[",c,'.cmp||"always"],',c,".ref|0,",'"mask" in ',c,"?",c,".mask:-1);");break;case "stencil.opFront":case "stencil.opBack":d=
H(k);u(F,".stencilOpSeparate(","stencil.opFront"===a?1028:1029,",",d,"[",c,'.fail||"keep"],',d,"[",c,'.zfail||"keep"],',d,"[",c,'.pass||"keep"]);');break;case "polygonOffset.offset":u(F,".polygonOffset(",c,".factor||0,",c,".units||0);");break;case "cull.face":u(F,".cullFace(",c,'==="front"?',1028,":",1029,");");break;case "lineWidth":u(F,".lineWidth(",c,");");break;case "frontFace":u(F,".frontFace(",c,'==="cw"?',2304,":",2305,");");break;case "colorMask":u(F,".colorMask(",c,"[0],",c,"[1],",c,"[2],",
c,"[3]);");break;case "sample.coverage":u(F,".sampleCoverage(",c,".value,",c,".invert);");break;case "scissor.box":case "viewport":a=y(a),u(a,".push(",c,".x||0,",c,".y||0,",c,".w||-1,",c,".h||-1);")}});("viewport"in q||"framebuffer"in q)&&u(y("viewport"),".poll();");("scissor.box"in q||"framebuffer"in q)&&u(y("scissor.box"),".poll();");"framebuffer"in q&&u(oa,".pop();");var ka=t.uniforms,sa=[];Object.keys(g).forEach(function(a){var c=ja(ka,a);if(c){var d=c.info.type,f=H(c.location);a=x(g[a]);35678===
c.info.type||35680===c.info.type?(c=O(a+"._texture"),sa.push(c),u(b(F,5124,f,c+".bind()"))):u(b(F,d,f,a))}});sa.forEach(function(a){u(a,".unbind();")});var ta=t.attributes;Object.keys(G).forEach(function(b){var c=ja(ta,b);if(c){var d=H(w.box(b));b=x(G[b]);b=O(d+".alloc("+b+")");u(M,"(",c.location,",",H(w.bindings[c.location]),",",b,",",a(c.info.type),");");T(d,".free(",b,");")}});q.count&&u(ga,"=",x(q.count),";");q.offset&&u(ia,"=",x(q.offset),";");q.primitive&&u(I,"=",H(f),"[",x(q.primitive),"];");
ha&&q.instances&&u(P,"=",x(q.instances),";");S&&(t=x(q.elements),u(K,"=",t,"?",t,"._elements:null;"));m("offset")&&u(ia,"=0;");u("if(",K,"){");m("count")&&u(ga,"=",K,".vertCount;");u("if(",ga,">0){");m("primitive")&&u(I,"=",K,".primType;");S&&u(F,".bindBuffer(",34963,",",K,".buffer.buffer);");ha&&u("if(",P,">0){",Q,".drawElementsInstancedANGLE(",I,",",ga,",",K,".type,",ia,",",P,");}else ");u(F,".drawElements(",I,",",ga,",",K,".type,",ia,");");u("}}else if(",ga,">0){");m("count")||(m("primitive")&&
u(I,"=",4,";"),ha&&u("if(",P,">0){",Q,".drawArraysInstancedANGLE(",I,",",ia,",",ga,",",P,");}else{"),u(F,".drawArrays(",I,",",ia,",",ga,");"),ha&&u("}"));u("}}",T);return A.compile().batch}var N=x.contextState,E={add:32774,subtract:32778,"reverse subtract":32779};l.ext_blend_minmax&&(E.min=32775,E.max=32776);var C=0;return{draw:function(c){var f=n(),h=f.link,p=f.proc("draw"),t=p.def,k=h(e),q=h(c.program),g=h(w.bind),G=h(B.count),y=h(B.offset),C=h(B.instances),u=h(B.primitive),v=h(z.elements),x=[];
p(k,".useProgram(",q,");");c.attributes.forEach(function(b){var c=h(w.def(b.name));p(g,"(",b.location,",",h(w.bindings[b.location]),",",c,",",a(b.info.type),");")});c.uniforms.forEach(function(a){var c=h(a.location),d=h(D.def(a.name)),d=d+"["+d+".length-1]";a=a.info.type;35678===a||35680===a?(a=t(d+"._texture"),x.push(a),p(b(k,5124,c,a+".bind()"))):p(b(k,a,c,d))});x.forEach(function(a){p(a,".unbind();")});c=t(d(u));G=t(d(G));y=t(d(y));v=t(d(v));p("if(",G,"){");(q=l.angle_instanced_arrays)?(C=t(d(C)),
q=h(q),p("if(",v,"){",v,".bind();","if(",C,">0){",q,".drawElementsInstancedANGLE(",c,",",G,",",v,".type,",y,",",C,");}else{",k,".drawElements(",c,",",G,",",v,".type,",y,");}","}else if(",C,">0){",q,".drawArraysInstancedANGLE(",c,",",y,",",G,",",C,");}else{",k,".drawArrays(",c,",",y,",",G,");}}")):p("if(",v,"){",v,".bind();",k,".drawElements(",c,",",G,",",v,".type,",y,");","}else{",k,".drawArrays(",c,",",y,",",G,");}}");return f.compile().draw},command:function(a,b,d,l,t,q,e){function r(a){var b=la[a];
return b?b:b=la[a]=u(N[a])}function y(a,b){var c=r(a);I(c,".push(",b,");");L(c,".pop();")}function x(a){var b=a.id,c=qa[b];if(c)return c;c=a.func?K.def(u(a.data),"(",ha,",0,",ra,")"):K.def(ha,".",a.data);return qa[b]=c}var H=n(),u=H.link,T=H.block,O=H.proc,R=C++,F=u(Q),aa=u(m),W=u(v),M={count:u(B.count),offset:u(B.offset),instances:u(B.instances),primitive:u(B.primitive)},fa=u(z.elements),oa=u(f),ga=u(h),ia=u(k),la={},I=T(),L=T();Object.keys(a).sort(c).forEach(function(b){var c=a[b];switch(b){case "frag":case "vert":c=
g.id(c);m.shader("frag"===b?35632:35633,c);I(aa,".",b,".push(",c,");");L(aa,".",b,".pop();");break;case "framebuffer":v.getFramebuffer(c);b=r("viewport");var d=r("scissor.box");I("if(",W,".push(",u(c&&c._framebuffer),")){",b,".setDirty();",d,".setDirty();","}");L("if(",W,".pop()){",b,".setDirty();",d,".setDirty();","}");break;case "count":case "offset":case "instances":I(M[b],".push(",c,");");L(M[b],".pop();");break;case "primitive":I(M.primitive,".push(",f[c],");");L(M.primitive,".pop();");break;
case "elements":d=z.getElements(c);c=!("primitive"in a);b=!("count"in a);d?(d=u(d),I(fa,".push(",d,");"),c&&I(M.primitive,".push(",d,".primType);"),b&&I(M.count,".push(",d,".vertCount);")):(I(fa,".push(null);"),c&&I(M.primitive,".push(",4,");"),b&&I(M.count,".push(0);"));c&&L(M.primitive,".pop();");b&&L(M.count,".pop();");"offset"in a||(I(M.offset,".push(0);"),L(M.offset,".pop();"));L(fa,".pop();");break;case "cull.enable":case "blend.enable":case "dither":case "stencil.enable":case "depth.enable":case "scissor.enable":case "polygonOffset.enable":case "sample.alpha":case "sample.enable":case "depth.mask":y(b,
c);break;case "depth.func":y(b,h[c]);break;case "depth.range":b=r(b);I(b,".push(",c[0],",",c[1],");");L(b,".pop();");break;case "blend.func":b=r(b);I(b,".push(",p["srcRGB"in c?c.srcRGB:c.src],",",p["dstRGB"in c?c.dstRGB:c.dst],",",p["srcAlpha"in c?c.srcAlpha:c.src],",",p["dstAlpha"in c?c.dstAlpha:c.dst],");");L(b,".pop();");break;case "blend.equation":b=r(b);"string"===typeof c?I(b,".push(",E[c],",",E[c],");"):"object"===typeof c&&I(b,".push(",E[c.rgb],",",E[c.alpha],");");L(b,".pop();");break;case "blend.color":b=
r(b);I(b,".push(",c[0],",",c[1],",",c[2],",",c[3],");");L(b,".pop();");break;case "stencil.mask":b=r(b);I(b,".push(",c,");");L(b,".pop();");break;case "stencil.func":var d=c.cmp||"keep",l=c.ref||0,c="mask"in c?c.mask:-1;b=r(b);I(b,".push(",h[d],",",l,",",c,");");L(b,".pop();");break;case "stencil.opFront":case "stencil.opBack":d=c.fail||"keep";l=c.zfail||"keep";c=c.pass||"keep";b=r(b);I(b,".push(",k[d],",",k[l],",",k[c],");");L(b,".pop();");break;case "polygonOffset.offset":d=c.factor||0;c=c.units||
0;b=r(b);I(b,".push(",d,",",c,");");L(b,".pop();");break;case "cull.face":d=0;"front"===c?d=1028:"back"===c&&(d=1029);c=r(b);I(c,".push(",d,");");L(c,".pop();");break;case "lineWidth":y(b,c);break;case "frontFace":d=0;"cw"===c?d=2304:"ccw"===c&&(d=2305);c=r(b);I(c,".push(",d,");");L(c,".pop();");break;case "colorMask":b=r(b);I(b,".push(",c.map(function(a){return!!a}).join(),");");L(b,".pop();");break;case "sample.coverage":d="value"in c?c.value:1;c=!!c.invert;b=r(b);I(b,".push(",d,",",c,");");L(b,
".pop();");break;case "viewport":case "scissor.box":var d=c.x||0,l=c.y||0,n=-1,t=-1;"w"in c&&(n=c.w);"h"in c&&(t=c.h);c=r(b);I(c,".push(",d,",",l,",",n,",",t,");");L(c,".pop();")}});Object.keys(b).forEach(function(a){var c=u(D.def(a));a=b[a];a="function"===typeof a&&a._reglType?u(a):Array.isArray(a)?u(a.slice()):+a;I(c,".push(",a,");");L(c,".pop();")});Object.keys(d).forEach(function(a){var b=d[a],c=u(w.def(a));a=u(w.box(a).alloc(b));I(c,".records.push(",a,");");L(c,".records.pop();")});var K=H.block(),
P=H.block(),ra,ha;e&&(ra=u(V),ha=I.def());var qa={};Object.keys(l).sort(c).forEach(function(b){var c=x(l[b]);switch(b){case "framebuffer":b=r("viewport");var d=r("scissor.box");K("if(",W,".push(",c,"&&",c,"._framebuffer)){",b,".setDirty();",d,".setDirty();","}");P("if(",W,".pop()){",b,".setDirty();",d,".setDirty();","}");break;case "cull.enable":case "blend.enable":case "dither":case "stencil.enable":case "depth.enable":case "scissor.enable":case "polygonOffset.enable":case "sample.alpha":case "sample.enable":case "lineWidth":case "depth.mask":b=
r(b);K(b,".push(",c,");");P(b,".pop();");break;case "count":case "offset":case "instances":b=M[b];K(b,".push(",c,");");P(b,".pop();");break;case "primitive":b=M.primitive;K(b,".push(",oa,"[",c,"]);");P(b,".pop();");break;case "depth.func":b=r(b);K(b,".push(",ga,"[",c,"]);");P(b,".pop();");break;case "blend.func":b=r(b);d=u(p);K(b,".push(",d,'["srcRGB" in ',c,"?",c,".srcRGB:",c,".src],",d,'["dstRGB" in ',c,"?",c,".dstRGB:",c,".dst],",d,'["srcAlpha" in ',c,"?",c,".srcAlpha:",c,".src],",d,'["dstAlpha" in ',
c,"?",c,".dstAlpha:",c,".dst]);");P(b,".pop();");break;case "blend.equation":b=r(b);d=u(E);K("if(typeof ",c,'==="string"){',b,".push(",d,"[",c,"],",d,"[",c,"]);","}else{",b,".push(",d,"[",c,".rgb],",d,"[",c,".alpha]);","}");P(b,".pop();");break;case "blend.color":b=r(b);K(b,".push(",c,"[0],",c,"[1],",c,"[2],",c,"[3]);");P(b,".pop();");break;case "stencil.mask":b=r(b);K(b,".push(",c,");");P(b,".pop();");break;case "stencil.func":b=r(b);K(b,".push(",ga,"[",c,".cmp],",c,".ref|0,",'"mask" in ',c,"?",
c,".mask:-1);");P(b,".pop();");break;case "stencil.opFront":case "stencil.opBack":b=r(b);K(b,".push(",ia,"[",c,'.fail||"keep"],',ia,"[",c,'.zfail||"keep"],',ia,"[",c,'.pass||"keep"]);');P(b,".pop();");break;case "polygonOffset.offset":b=r(b);K(b,".push(",c,".factor||0,",c,".units||0);");P(b,".pop();");break;case "cull.face":b=r(b);K(b,".push(",c,'==="front"?',1028,":",1029,");");P(b,".pop();");break;case "frontFace":b=r(b);K(b,".push(",c,'==="cw"?',2304,":",2305,");");P(b,".pop();");break;case "colorMask":b=
r(b);K(b,".push(",c,"[0],",c,"[1],",c,"[2],",c,"[3]);");P(b,".pop();");break;case "sample.coverage":b=r(b);K(b,".push(",c,".value,",c,".invert);");P(b,".pop();");break;case "scissor.box":case "viewport":b=r(b);K(b,".push(",c,".x||0,",c,".y||0,",'"w" in ',c,"?",c,".w:-1,",'"h" in ',c,"?",c,".h:-1);");P(b,".pop();");break;case "elements":b=!("primitive"in l)&&!("primitive"in a);var d=!("count"in l)&&!("count"in a),f=!("offset"in l)&&!("offset"in a),h=K.def();K("if(",c,"){",h,"=",c,"._elements;",fa,
".push(",h,");",b?M.primitive+".push("+h+".primType);":"",d?M.count+".push("+h+".vertCount);":"",f?M.offset+".push("+h+".offset);":"","}else{",fa,".push(null);","}");P(fa,".pop();","if(",c,"){",b?M.primitive+".pop();":"",d?M.count+".pop();":"",f?M.offset+".pop();":"","}")}});Object.keys(t).forEach(function(a){var b=u(D.def(a));a=x(t[a]);K(b,".push(",a,");");P(b,".pop();")});Object.keys(q).forEach(function(a){var b=u(w.def(a)),c=x(q[a]);a=u(w.box(a));K(b,".records.push(",a,".alloc(",c,"));");P(a,".free(",
b,".records.pop());")});var Z=O("scope"),ca=Z.arg(),pa=Z.arg();Z(I);e&&Z(ha,"=",ca,";",K);Z(pa,"();",e?P:"",L);Z=T();T=Z.def();a.frag&&a.vert?(ca=a.frag,Z(T,"=",u(m.program(g.id(a.vert),g.id(ca))),";")):Z(T,"=",aa,".program","(",aa,".vert[",aa,".vert.length-1]",",",aa,".frag[",aa,".frag.length-1]",");");ca=O("draw");ca(I,Z);e&&ca(ha,"=",ca.arg(),";",K);ca(F,"();","if(",T,")",T,".draw(",e?ha:"",");",e?P:"",L);var ka=O("batch");ka(I,Z);e=u(function(b,c,d){var f=b.batchCache[R];f||(f=b.batchCache[R]=
S(b,l,t,q,a));return f(c,d)});ka("if(",T,"){",F,"();",e,"(",T,",",ka.arg(),",",ka.arg(),");");Object.keys(l).forEach(function(a){(a=la[a])&&ka(a,".setDirty();")});ka("}",L);return H.compile()}}}},{"./constants/primitives.json":7,"./util/codegen":23}],5:[function(e,g,m){g.exports={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,
"[object Float64Array]":5121,"[object ArrayBuffer]":5121}},{}],6:[function(e,g,m){g.exports={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126}},{}],7:[function(e,g,m){g.exports={points:0,lines:1,"line loop":2,"line strip":3,triangles:4,"triangle strip":5,"triangle fan":6}},{}],8:[function(e,g,m){function a(a,n){function f(){var b=window.innerWidth,f=window.innerHeight;a!==document.body&&(f=a.getBoundingClientRect(),b=f.right-f.left,f=f.top-f.bottom);p.width=k*b;p.height=
k*f;d(p.style,{width:b+"px",height:f+"px"})}var p=document.createElement("canvas"),h=b(p,n);d(p.style,{border:0,margin:0,padding:0,top:0,left:0});a.appendChild(p);a===document.body&&(p.style.position="absolute",d(a.style,{margin:0,padding:0}));var k=+h.options.pixelRatio;window.addEventListener("resize",f,!1);var r=h.options.onDestroy;h.options=d(d({},h.options),{onDestroy:function(){window.removeEventListener("resize",f);a.removeChild(p);r&&r()}});f();return h}function b(a,b){function f(b){try{return a.getContext(b,
p)}catch(d){return null}}var p=b.glOptions||{};return{gl:f("webgl")||f("experimental-webgl")||f("webgl-experimental"),options:d({pixelRatio:window.devicePixelRatio},b)}}var d=e("./util/extend");g.exports=function(c){if("undefined"===typeof document||"undefined"===typeof HTMLElement)return{gl:c[0],options:c[1]||{}};var n=document.body,f=c[1]||{};if("string"===typeof c[0])n=document.querySelector(c[0])||document.body;else if("object"===typeof c[0])if(c[0]instanceof HTMLElement)n=c[0];else{if(c[0]instanceof
WebGLRenderingContext)return{gl:c[0],options:d({pixelRatio:1},f)};f=c[0]}return n.nodeName&&"CANVAS"===n.nodeName.toUpperCase()?b(n,f):a(n,f)}},{"./util/extend":24}],9:[function(e,g,m){g.exports=function(a){return{primitive:[4],count:[-1],offset:[0],instances:[0]}}},{}],10:[function(e,g,m){function a(a,b){this.id=d++;this.func=a;this.data=b}function b(c,d){switch(typeof c){case "boolean":case "number":case "string":return new a(!1,c);case "function":return new a(!0,c);default:return b}}var d=0;g.exports=
{define:b,isDynamic:function(b){return"function"===typeof b&&!b._reglType||b instanceof a},unbox:function(c,d){return c instanceof a?c:"function"===typeof c&&c!==b?new a(!0,c):new a(!1,d)}}},{}],11:[function(e,g,m){var a=e("./util/is-typed-array"),b=e("./util/is-ndarray"),d=e("./constants/primitives.json");g.exports=function(c,n,f){function p(){this.buffer=null;this.primType=4;this.type=this.vertCount=0}p.prototype.bind=function(){this.buffer.bind()};return{create:function(c){function k(c){var f=
n.oes_element_index_uint;if(c)if("number"===typeof c)e(c);else{var h=null,p="static",g=0;Array.isArray(c)||a(c)||b(c)?h=c:("data"in c&&(h=c.data),"usage"in c&&(p=c.usage),"length"in c&&(g=c.length));Array.isArray(h)||b(h)&&"array"===h.dtype||"type"in c?e({type:c.type||(f?"uint32":"uint16"),usage:p,data:h,length:g}):e({usage:p,data:h,length:g});if(Array.isArray(h)||a(h))e.dimension=3}else e();f=r.buffer.byteLength;h=0;switch(r.buffer.dtype){case 5121:case 5120:h=5121;break;case 5123:case 5122:h=5123;
f>>=1;break;case 5125:case 5124:h=5125,f>>=2}p=4;g=r.buffer.dimension;1===g&&(p=0);2===g&&(p=1);3===g&&(p=4);"object"===typeof c&&("primitive"in c&&(p=d[c.primitive]),"count"in c&&(f=c.vertCount|0));r.primType=p;r.vertCount=f;r.type=h;return k}var r=new p,e=f.create(null,34963,!0);r.buffer=e._buffer;k(c);k._reglType="elements";k._elements=r;k.destroy=function(){e.destroy();r.buffer=null};return k},elements:[null],getElements:function(a){return a&&a._elements instanceof p?a._elements:null}}}},{"./constants/primitives.json":7,
"./util/is-ndarray":25,"./util/is-typed-array":26}],12:[function(e,g,m){g.exports=function(a){function b(){"oes_texture_float oes_texture_float_linear oes_texture_half_float oes_texture_half_float_linear oes_standard_derivatives oes_element_index_uint oes_fbo_render_mipmap webgl_depth_texture webgl_draw_buffers webgl_color_buffer_float ext_texture_filter_anisotropic ext_frag_depth ext_blend_minmax ext_shader_texture_lod ext_color_buffer_half_float ext_srgb angle_instanced_arrays webgl_compressed_texture_s3tc webgl_compressed_texture_atc webgl_compressed_texture_pvrtc webgl_compressed_texture_etc1".split(" ").forEach(function(b){try{d[b]=
a.getExtension(b)}catch(n){}})}var d={};b();return{extensions:d,refresh:b}}},{}],13:[function(e,g,m){var a=e("./util/values"),b=e("./util/extend"),d=[1029];g.exports=function(c,n,f,p,h){function k(a,b,c,d){this.target=a;this.level=b;this.texture=c;this.renderbuffer=d}function e(a){a&&(a.texture&&a.texture._texture.decRef(),a.renderbuffer&&a.renderbuffer._renderbuffer.decRef())}function g(a,b){var c=b.width,d=b.height;if(a.texture)var f=a.texture._texture,h=Math.max(1,f.params.width>>a.level),p=Math.max(1,
f.params.height>>a.level),c=c||h,d=d||p;else f=a.renderbuffer._renderbuffer,c=c||f.width,d=d||f.height;f.refCount+=1;b.width=c;b.height=d}function l(a,b){b?b.texture?c.framebufferTexture2D(36160,a,b.target,b.texture._texture.texture,b.level):c.framebufferRenderbuffer(36160,a,36161,b.renderbuffer._renderbuffer.renderbuffer):c.framebufferTexture2D(36160,a,3553,null,0)}function q(a){var b=3553,c=0,d=null,f=null;"object"===typeof a&&("level"in a&&(c=a.level|0),"target"in a&&(b=a.target|0));var h=a._reglType;
"texture"===h?d=a:"renderbuffer"===h&&(f=a,b=36161,c=0);return new k(b,c,d,f)}function t(a){return a&&(a.texture||a.renderbuffer)}function z(){this.id=Q++;S[this.id]=this;this.framebuffer=null;this.height=this.width=0;this.colorAttachments=[];this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null;this.ownsDepthStencil=this.ownsColor=!1}function y(a){c.isFramebuffer(a.framebuffer)||(a.framebuffer=c.createFramebuffer());E=!0;c.bindFramebuffer(36160,a.framebuffer);for(var b=a.colorAttachments,
d=0;d<b.length;++d)l(36064+d,b[d]);for(d=b.length;d<f.maxColorAttachments;++d)l(36064+d,null);l(36096,a.depthAttachment);l(36128,a.stencilAttachment);l(33306,a.depthStencilAttachment);n.webgl_draw_buffers&&n.webgl_draw_buffers.drawBuffersWEBGL(V[b.length]);c.checkFramebufferStatus(36160)}function v(a){a=a.framebuffer;c.isFramebuffer(a)&&c.deleteFramebuffer(a)}function x(){return N[N.length-1]}var m={rgba:6408},w={rgba4:32854,rgb565:36194,"rgb5 a1":32855};n.ext_srgb&&(w.srgba=35907);n.ext_color_buffer_half_float&&
(w.rgba16f=34842,w.rgb16f=34843);n.webgl_color_buffer_float&&(w.rgba32f=34836);var A=[],B=[];n.webgl_depth_texture&&(A.push(6402),B.push(34041));b(b({},m),w);a(m);a(w);w=5121;A={uint8:5121};n.oes_texture_half_float&&(w=A["half float"]=36193);n.oes_texture_float&&(w=A["float"]=5126);A.best=w;var V=function(){for(var a=Array(f.maxDrawbuffers),b=0;b<=f.maxDrawbuffers;++b)for(var c=a[b]=Array(b),d=0;d<b;++d)c[d]=36064+d;return a}(),Q=0,S={},N=[null],E=!0;return{top:x,dirty:function(){return E},push:function(a){a=
a||null;E=E||a!==x();N.push(a);return E},pop:function(){var a=x();N.pop();return E=E||a!==x()},getFramebuffer:function(a){return"function"===typeof a&&"framebuffer"===a._reglType&&(a=a._framebuffer,a instanceof z)?a:null},poll:function(){if(E){var a=N[N.length-1],b=n.webgl_draw_buffers;a?(c.bindFramebuffer(36160,a.framebuffer),b&&b.drawBuffersWEBGL(V[a.colorAttachments.length])):(c.bindFramebuffer(36160,null),b&&b.drawBuffersWEBGL(d));E=!1}},create:function(a){function b(a){var f,n=a||{},l=a=0;if("shape"in
n){var z=n.shape;a=z[0];l=z[1]}else"radius"in n&&(a=l=n.radius),"width"in n&&(a=n.width),"height"in n&&(l=n.height);var v=null,z=!1;if("colorBuffers"in n||"colorBuffer"in n){v=n.colorBuffers||n.colorBuffer;Array.isArray(v)||(v=[v]);d.width=a;d.height=l;v=v.map(q);for(f=0;f<v.length;++f)g(v[f],d);a=d.width;l=d.height}else{var x=!0,w="rgba",B="uint8",u=1,z=!0;d.width=a=a||c.drawingBufferWidth;d.height=l=l||c.drawingBufferHeight;"format"in n&&(w=n.format,x=w in m);"type"in n&&(B=n.type);"colorCount"in
n&&(u=n.colorCount|0);if(d.ownsColor)for(v=d.colorAttachments;v.length>u;)e(v.pop());else v=[];for(f=0;f<v.length;++f){var A;a:{A=v[f];var C=x,E=w,F=a,aa=l;if(A.texture){var W=A.texture;if(C){W({format:E,type:B,width:F,height:aa});W._texture.refCount+=1;A=!0;break a}}else if(W=A.renderbuffer,!C){W({format:E,width:F,height:aa});W._renderbuffer.refCount+=1;A=!0;break a}e(A);A=!1}A||(v[f--]=v[v.length-1],v.pop())}for(;v.length<u;)x?v.push(new k(3553,0,p.create({format:w,type:B,width:a,height:l},3553),
null)):v.push(new k(36161,0,null,h.create({format:w,width:a,height:l})))}d.width=a;d.height=l;w=x=f=null;B=!1;"depthBuffer"in n&&(f=q(n.depthBuffer));"stencilBuffer"in n&&(x=q(n.stencilBuffer));"depthStencilBuffer"in n&&(w=q(n.depthStencilBuffer));if(f||x||w)g(f||x||w,d);else if(u=!0,C=A=!1,"depth"in n&&(u=!!n.depth),"stencil"in n&&(A=!!n.stencil),"depthTexture"in n&&(C=!!n.depthTexture),n=d.depthAttachment||d.stencilAttachment||d.depthStencilAttachment,E=null,u||A)B=!0,C?(C=A?"depth stencil":"depth",
d.ownsDepthStencil&&n.texture?(n.texture({format:C,width:a,height:l}),n.texture._texture.refCount+=1,E=n):E=new k(3553,0,p.create({format:C,width:a,height:l},3553),null)):(C=u?A?"depth stencil":"depth":"stencil",d.ownsDepthStencil&&n.renderbuffer?(n.renderbuffer({format:C,width:a,height:l}),n.renderbuffer._renderbuffer.refCount+=1,E=n):E=new k(36161,0,null,h.create({format:C,width:a,height:l}))),u?A?w=E:f=E:x=E;a=d;a.colorAttachments.forEach(e);e(a.depthAttachment);e(a.stencilAttachment);e(a.depthStencilAttachment);
d.colorAttachments=v;d.depthAttachment=f;d.stencilAttachment=x;d.depthStencilAttachment=w;d.ownsColor=z;d.ownsDepthStencil=B;b.color=v.map(t);b.depth=t(f);b.stencil=t(x);b.depthStencil=t(w);y(d);b.width=d.width;b.height=d.height;return b}var d=new z;b(a);b._reglType="framebuffer";b._framebuffer=d;b._destroy=function(){v(d)};return b},clear:function(){a(S).forEach(v)},refresh:function(){a(S).forEach(y)}}}},{"./util/extend":24,"./util/values":32}],14:[function(e,g,m){g.exports=function(a,b){var d=1;
b.ext_texture_filter_anisotropic&&(d=a.getParameter(34047));var c=1,n=1;b.webgl_draw_buffers&&(c=a.getParameter(34852),n=a.getParameter(36063));return{colorBits:[a.getParameter(3410),a.getParameter(3411),a.getParameter(3412),a.getParameter(3413)],depthBits:a.getParameter(3414),stencilBits:a.getParameter(3415),subpixelBits:a.getParameter(3408),extensions:Object.keys(b).filter(function(a){return!!b[a]}),maxAnisotropic:d,maxDrawbuffers:c,maxColorAttachments:n,pointSizeDims:a.getParameter(33901),lineWidthDims:a.getParameter(33902),
maxViewportDims:a.getParameter(3386),maxCombinedTextureUnits:a.getParameter(35661),maxCubeMapSize:a.getParameter(34076),maxRenderbufferSize:a.getParameter(34024),maxTextureUnits:a.getParameter(34930),maxTextureSize:a.getParameter(3379),maxAttributes:a.getParameter(34921),maxVertexUniforms:a.getParameter(36347),maxVertexTextureUnits:a.getParameter(35660),maxVaryingVectors:a.getParameter(36348),maxFragmentUniforms:a.getParameter(36349),glsl:a.getParameter(35724),renderer:a.getParameter(7937),vendor:a.getParameter(7936),
version:a.getParameter(7938)}}},{}],15:[function(e,g,m){var a=e("./util/is-typed-array");g.exports=function(b,d,c){return function(n){var f=n||{};a(n)?f={data:f}:2===arguments.length?f={width:arguments[0]|0,height:arguments[1]|0}:"object"!==typeof n&&(f={});d();var p=f.x||0,h=f.y||0,k=f.width||c.width,e=f.height||c.height,f=f.data||new Uint8Array(k*e*4);b.pixelStorei(3333,4);b.readPixels(p,h,k,e,6408,5121,f);return f}}},{"./util/is-typed-array":26}],16:[function(e,g,m){var a=e("./util/values");g.exports=
function(b,d,c){function n(){this.id=k++;this.refCount=1;this.renderbuffer=null;this.format=32854;this.height=this.width=0}function f(a){b.isRenderbuffer(a.renderbuffer)||(a.renderbuffer=b.createRenderbuffer());b.bindRenderbuffer(36161,a.renderbuffer);b.renderbufferStorage(36161,a.format,a.width,a.height)}function p(a){var c=a.renderbuffer;b.bindRenderbuffer(36161,null);b.isRenderbuffer(c)&&b.deleteRenderbuffer(c);a.renderbuffer=null;a.refCount=0;delete e[a.id]}var h={rgba4:32854,rgb565:36194,"rgb5 a1":32855,
depth:33189,stencil:36168,"depth stencil":34041};d.ext_srgb&&(h.srgba=35907);d.ext_color_buffer_half_float&&(h.rgba16f=34842,h.rgb16f=34843);d.webgl_color_buffer_float&&(h.rgba32f=34836);var k=0,e={};n.prototype.decRef=function(){0===--this.refCount&&p(this)};return{create:function(a){function b(a){a=a||{};var d=0,n=0;"shape"in a?(n=a.shape,d=n[0]|0,n=n[1]|0):("radius"in a&&(d=n=a.radius|0),"width"in a&&(d=a.width|0),"height"in a&&(n=a.height|0));b.width=c.width=Math.max(d,1);b.height=c.height=Math.max(n,
1);c.format=32854;"format"in a&&(c.format=h[a.format]);f(c);return b}var c=new n;e[c.id]=c;b(a);b._reglType="renderbuffer";b._renderbuffer=c;b.destroy=function(){c.decRef()};return b},refresh:function(){a(e).forEach(f)},clear:function(){a(e).forEach(p)}}}},{"./util/values":32}],17:[function(e,g,m){function a(a,b,n,f){this.name=a;this.id=b;this.location=n;this.info=f}var b=e("./util/values");g.exports=function(d,c,n,f,p){function h(a,b){var c=35632===a?g:l,f=c[b];if(!f){var h=p.str(b),f=d.createShader(a);
d.shaderSource(f,h);d.compileShader(f);c[b]=f}return f}function k(a,b){this.fragId=a;this.vertId=b;this.program=null;this.uniforms=[];this.attributes=[];this.draw=function(){};this.batchCache={}}function e(b){var k,l;k=h(35632,b.fragId);l=h(35633,b.vertId);var t=b.program=d.createProgram();d.attachShader(t,k);d.attachShader(t,l);d.linkProgram(t);var q=d.getProgramParameter(t,35718),r=b.uniforms=[];for(k=0;k<q;++k)if(l=d.getActiveUniform(t,k))if(1<l.size)for(var g=0;g<l.size;++g){var G=l.name.replace("[0]",
"["+g+"]");n.def(G);r.push(new a(G,p.id(G),d.getUniformLocation(t,G),l))}else n.def(l.name),r.push(new a(l.name,p.id(l.name),d.getUniformLocation(t,l.name),l));q=d.getProgramParameter(t,35721);r=b.attributes=[];for(k=0;k<q;++k)if(l=d.getActiveAttrib(t,k))c.def(l.name),r.push(new a(l.name,p.id(l.name),d.getAttribLocation(t,l.name),l));b.draw=f(b);b.batchCache={}}var g={},l={},q={},t=[];return{clear:function(){var a=d.deleteShader.bind(d);b(g).forEach(a);g={};b(l).forEach(a);l={};t.forEach(function(a){d.deleteProgram(a.program)});
t.length=0;q={}},refresh:function(){g={};l={};t.forEach(e)},program:function(a,b){var c=q[b];c||(c=q[b]={});var d=c[a];d||(d=new k(b,a),e(d),c[a]=d,t.push(d));return d},shader:h,frag:[-1],vert:[-1]}}},{"./util/values":32}],18:[function(e,g,m){var a=e("./util/stack"),b=e("./util/codegen");g.exports=function(d,c,n){function f(b,c){var f=a([!!c],function(a){a?d.enable(b):d.disable(b)});f.flag=b;return f}var p={dither:f(3024),"blend.enable":f(3042),"blend.color":a([0,0,0,0],function(a,b,c,f){d.blendColor(a,
b,c,f)}),"blend.equation":a([32774,32774],function(a,b){d.blendEquationSeparate(a,b)}),"blend.func":a([1,0,1,0],function(a,b,c,f){d.blendFuncSeparate(a,b,c,f)}),"depth.enable":f(2929,!0),"depth.func":a([513],function(a){d.depthFunc(a)}),"depth.range":a([0,1],function(a,b){d.depthRange(a,b)}),"depth.mask":a([!0],function(a){d.depthMask(a)}),"cull.enable":f(2884),"cull.face":a([1029],function(a){d.cullFace(a)}),frontFace:a([2305],function(a){d.frontFace(a)}),colorMask:a([!0,!0,!0,!0],function(a,b,c,
f){d.colorMask(a,b,c,f)}),lineWidth:a([1],function(a){d.lineWidth(a)}),"polygonOffset.enable":f(32823),"polygonOffset.offset":a([0,0],function(a,b){d.polygonOffset(a,b)}),"sample.alpha":f(32926),"sample.enable":f(32928),"sample.coverage":a([1,!1],function(a,b){d.sampleCoverage(a,b)}),"stencil.enable":f(2960),"stencil.mask":a([-1],function(a){d.stencilMask(a)}),"stencil.func":a([519,0,-1],function(a,b,c){d.stencilFunc(a,b,c)}),"stencil.opFront":a([7680,7680,7680],function(a,b,c){d.stencilOpSeparate(1028,
a,b,c)}),"stencil.opBack":a([7680,7680,7680],function(a,b,c){d.stencilOpSeparate(1029,a,b,c)}),"scissor.enable":f(3089),"scissor.box":a([0,0,-1,-1],function(a,b,f,h){var n=f,p=c.top();0>f&&(n=p?p.width-a:d.drawingBufferWidth-a);f=h;0>h&&(f=p?p.height-b:d.drawingBufferHeight-b);d.scissor(a,b,n,f)}),viewport:a([0,0,-1,-1],function(a,b,f,h){var p=f,k=c.top();0>f&&(p=k?k.width-a:d.drawingBufferWidth-a);f=h;0>h&&(f=k?k.height-b:d.drawingBufferHeight-b);d.viewport(a,b,p,f);n.width=p;n.height=f})},h=b(),
k=h.proc("poll"),e=h.proc("refresh");Object.keys(p).forEach(function(a){a=h.link(p[a]);k(a,".poll();");e(a,".setDirty();")});var g=h.compile();return{contextState:p,viewport:n,poll:g.poll,refresh:g.refresh,notifyViewportChanged:function(){p.viewport.setDirty();p["scissor.box"].setDirty()}}}},{"./util/codegen":23,"./util/stack":30}],19:[function(e,g,m){g.exports=function(){var a={"":0},b=[""];return{id:function(d){var c=a[d];if(c)return c;c=a[d]=b.length;b.push(d);return c},str:function(a){return b[a]}}}},
{}],20:[function(e,g,m){function a(a){return Array.isArray(a)&&(0===a.length||"number"===typeof a[0])}function b(a){if(!Array.isArray(a))return!1;var b=a.length;if(0===b||!Array.isArray(a[0]))return!1;for(var c=a[0].length,d=1;d<b;++d)if(!Array.isArray(a[d])||a[d].length!==c)return!1;return!0}function d(a){return Object.prototype.toString.call(a)}function c(a){return"[object HTMLCanvasElement]"===d(a)}function n(a){return"[object CanvasRenderingContext2D]"===d(a)}var f=e("./util/extend"),p=e("./util/values"),
h=e("./util/is-typed-array"),k=e("./util/is-ndarray"),r=e("./util/load-texture"),G=e("./util/to-half-float"),l=e("./util/parse-dds"),q=[9984,9986,9985,9987];g.exports=function(e,g,m,v,x){function D(a){this.target=a;this.premultiplyAlpha=this.flipY=!1;this.unpackAlignment=1;this.type=this.internalformat=this.format=this.channels=this.height=this.width=this.colorSpace=0;this.compressed=!1;this.y=this.x=this.offset=this.strideC=this.strideY=this.strideX=this.miplevel=0;this.copy=!1;this.crossOrigin=
this.xhr=this.canvas=this.video=this.image=this.data=null;this.needsListeners=this.needsPoll=!1}function w(a){this.target=a;this.type=this.internalformat=this.format=this.height=this.width=0;this.wrapT=this.wrapS=33071;this.minFilter=0;this.magFilter=9728;this.anisotropic=1;this.genMipmaps=!1;this.mipmapHint=4352}function A(a,b){var c,d,f=0,h=0,n=0,p=0,e=0,k=0,g=!1,l=!1,r=!1;for(c=0;c<b.length;++c)d=b[c],p=p||d.width<<d.miplevel,e=e||d.height<<d.miplevel,f=f||d.type,h=h||d.format,n=n||d.internalformat,
k=k||d.channels,g=g||d.needsPoll,l=l||d.needsListeners,d=d.miplevel,r=r||0<d;a.needsPoll=g;a.needsListeners=l;a.width=p;a.height=e;a.format=h;a.internalformat=n;a.type=f;if(3553!==a.target)for(c=0;6>c;++c);c=0<=q.indexOf(a.minFilter);a.genMipmaps=!r&&(a.genMipmaps||c);r=r||a.genMipmaps;a.minFilter||(a.minFilter=r?9987:9728);a.wrapS=a.wrapS||33071;a.wrapT=a.wrapT||33071;for(c=0;c<b.length;++c)d=b[c],d.channels||(d.channels=k),d.format||(d.format=h),d.internalformat||(d.internalformat=n),d.type||(d.type=
f)}function B(a){this.id=u++;this.refCount=1;this.target=a;this.texture=null;this.unit=this.pollId=-1;this.bindCount=0;this.cancelPending=null;this.params=new w(a);this.pixels=[]}function V(a,b){function c(a,d){var f=d.mipmap,n;if(Array.isArray(f))for(var p=0;p<f.length;++p)n=new D(a),n.parseFlags(b),n.parseFlags(d),n.parse(f[p],p),h.push(n);else n=new D(a),n.parseFlags(b),n.parse(d,0),h.push(n)}var d;N(a);var f=a.params;w.call(f,a.target);var h=a.pixels;h.length=0;f.parse(b);if(3553===a.target)c(3553,
b);else{var n=b.faces||b;if(Array.isArray(n))for(d=0;6>d;++d)c(34069+d,n[d]);else if("string"!==typeof n)for(d=0;6>d;++d)c(34069+d,{})}A(f,h);f.needsListeners&&S(a);f.needsPoll&&(a.pollId=O.length,O.push(a));Q(a)}function Q(a){e.isTexture(a.texture)||(a.texture=e.createTexture());var b=a.target,c=a.unit;0<=c?(e.activeTexture(33984+c),H=c):e.bindTexture(b,a.texture);for(var b=a.pixels,d=a.params,f=0;f<b.length;++f)b[f].upload(d);d.upload();0>c&&((c=F[H])?e.bindTexture(c.target,c.texture):(a.unit=H,
F[H]=a))}function S(a){function b(a,c,d){var h=l(d);h.pixels.forEach(function(b){var d=new D(h.cube?b.target:a);d.channels=h.channels;d.compressed=h.compressed;d.type=h.type;d.internalformat=h.format;d.format=ma[h.format];d.width=b.width;d.height=b.height;d.miplevel=b.miplevel||c;d.data=b.data;f.push(d)})}function c(){for(var h=0;h<f.length;++h){var n=f[h],p=n.image,e=n.video,k=n.xhr;p&&p.complete?(n.width=p.naturalWidth,n.height=p.naturalHeight):e&&2<e.readyState?(n.width=e.width,n.height=e.height):
k&&4===k.readyState&&(f[h]=f[f.length-1],f.pop(),k.removeEventListener("readystatechange",Q),b(n.target,n.miplevel,k.response))}A(d,f);Q(a)}var d=a.params,f=a.pixels;f.forEach(function(a){a.image&&!a.image.complete?a.image.addEventListener("load",c):a.video&&1>a.readyState?a.video.addEventListener("progress",c):a.xhr&&a.xhr.addEventListener("readystatechange",c)});a.cancelPending=function(){f.forEach(function(a){a.image?a.image.removeEventListener("load",c):a.video?a.video.removeEventListener("progress",
c):a.xhr&&(a.xhr.removeEventListener("readystatechange",c),a.xhr.abort())})}}function N(a){var b=a.cancelPending;b&&(b(),a.cancelPending=null);b=a.pollId;0<=b&&((O[b]=O[O.length-1]).id=b,O.pop(),a.pollId=-1)}function E(a){var b=a.texture,c=a.unit,d=a.target;0<=c&&(e.activeTexture(33984+c),H=c,e.bindTexture(d,null),F[c]=null);N(a);e.isTexture(b)&&e.deleteTexture(b);a.texture=null;a.params=null;a.pixels=null;a.refCount=0;delete T[a.id]}var C={"don't care":4352,"dont care":4352,nice:4354,fast:4353},
U={repeat:10497,clamp:33071,mirror:33648},da={nearest:9728,linear:9729},J=f({"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987,mipmap:9987},da),ea={none:0,browser:37444},Y={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},X={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},ba={};g.ext_srgb&&(X.srgb=35904,X.srgba=35906);g.oes_texture_float&&(Y["float"]=5126);g.oes_texture_half_float&&
(Y["half float"]=36193);g.webgl_depth_texture&&(f(X,{depth:6402,"depth stencil":34041}),f(Y,{uint16:5123,uint32:5125,"depth stencil":34042}));g.webgl_compressed_texture_s3tc&&f(ba,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779});g.webgl_compressed_texture_atc&&f(ba,{"rgb arc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798});g.webgl_compressed_texture_pvrtc&&f(ba,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,
"rgba pvrtc 2bppv1":35843});g.webgl_compressed_texture_etc1&&(ba["rgb etc1"]=36196);var ja=Array.prototype.slice.call(e.getParameter(34467));Object.keys(ba).forEach(function(a){var b=ba[a];0<=ja.indexOf(b)&&(X[a]=b)});var na=Object.keys(X);m.textureFormats=na;var ma=na.reduce(function(a,b){var c=X[b];6409===c||6406===c||6409===c||6410===c||6402===c||34041===c?a[c]=c:32855===c||0<=b.indexOf("rgba")?a[c]=6408:a[c]=6407;return a},{});f(D.prototype,{parseFlags:function(a){if("object"===typeof a&&a){"premultiplyAlpha"in
a&&(this.premultiplyAlpha=a.premultiplyAlpha);"flipY"in a&&(this.flipY=a.flipY);"alignment"in a&&(this.unpackAlignment=a.alignment);"colorSpace"in a&&(this.colorSpace=ea[a.colorSpace]);if("format"in a){var b=a.format;this.internalformat=X[b];b in Y&&(this.type=Y[b]);b in ba&&(this.compressed=!0)}"type"in a&&(this.type=Y[a.type]);var b=this.width,c=this.height,d=this.channels;"shape"in a?(b=a.shape[0],c=a.shape[1],3===a.shape.length&&(d=a.shape[2])):("radius"in a&&(b=c=a.radius),"width"in a&&(b=a.width),
"height"in a&&(c=a.height),"channels"in a&&(d=a.channels));this.width=b|0;this.height=c|0;this.channels=d|0;"stride"in a?(b=a.stride,this.strideX=b[0],this.strideY=b[1],this.strideC=3===b.length?b[2]:1,this.needsTranspose=!0):(this.strideC=1,this.strideX=this.strideC*d,this.strideY=this.strideX*b);"offset"in a&&(this.offset=a.offset|0,this.needsTranspose=!0);"crossOrigin"in a&&(this.crossOrigin=a.crossOrigin)}},parse:function(f,p){this.miplevel=p;this.width>>=p;this.height>>=p;var e=f;switch(typeof f){case "object":if(!f)return;
this.parseFlags(f);var g=f.data;if("string"===typeof g||g&&(h(g)||a(g)||k(g)||c(g)||n(g)||"[object HTMLImageElement]"===d(g)||"[object HTMLVideoElement]"===d(g)||b(g)))e=f.data;break;case "undefined":return}"string"===typeof e&&(e=r(e,this.crossOrigin));var g=null,l=!1;if(null!==e)if(h(e))this.data=e;else if(a(e))g=e,l=!0;else if(k(e)){Array.isArray(e.data)?(g=e.data,l=!0):this.data=e.data;var q=e.shape;this.width=q[0];this.height=q[1];this.channels=3===q.length?q[2]:1;q=e.stride;this.strideX=e.stride[0];
this.strideY=e.stride[1];this.strideC=3===q.length?e.stride[2]:1;this.offset=e.offset;this.needsTranspose=!0}else if(c(e)||n(e))c(e)?this.canvas=e:this.canvas=e.canvas,this.width=this.canvas.width,this.height=this.canvas.height,this.setDefaultFormat();else if("[object HTMLImageElement]"===d(e))this.image=e,e.complete?(this.width=e.naturalWidth,this.height=e.naturalHeight):(this.width=this.width||e.naturalWidth,this.height=this.height||e.naturalHeight,this.needsListeners=!0),this.setDefaultFormat();
else if("[object HTMLVideoElement]"===d(e))this.video=e,1<e.readyState?(this.width=e.width,this.height=e.height):(this.width=this.width||e.width,this.height=this.height||e.height,this.needsListeners=!0),this.needsPoll=!0,this.setDefaultFormat();else if("[object XMLHttpRequest]"===d(e))this.xhr=e,this.needsListeners=!0;else if(b(e)){var l=e[0].length,q=e.length,t=1,u,v,m,w;if(Array.isArray(e[0][0]))for(t=e[0][0].length,g=Array(l*q*t),v=w=0;v<q;++v)for(u=0;u<l;++u)for(m=0;m<t;++m)g[w++]=e[v][u][m];
else for(g=Array(l*q),v=w=0;v<q;++v)for(u=0;u<l;++u)g[w++]=e[v][u];this.width=l;this.height=q;this.channels=t;l=!0}else f.copy&&(this.copy=!0,this.x|=0,this.y|=0,this.width=(this.width||x.width)|0,this.height=(this.height||x.height)|0,this.setDefaultFormat());!this.type&&this.data&&(6402===this.format?this.data instanceof Uint16Array?this.type=5123:this.data instanceof Uint32Array&&(this.type=5125):this.data instanceof Float32Array&&(this.type=5126));this.internalformat||(this.internalformat=[6409,
6410,6407,6408][(this.channels=this.channels||4)-1]);e=this.internalformat;q=this.format=ma[e];if(!this.channels)switch(q){case 6409:case 6406:case 6402:this.channels=1;break;case 34041:case 6410:this.channels=2;break;case 6407:this.channels=3;break;default:this.channels=4}q=this.type;5126!==q&&36193!==q&&(q||(q=6402===e?5125:5121));this.type=q;if(l)switch(q){case 5121:this.data=new Uint8Array(g);break;case 5123:this.data=new Uint16Array(g);break;case 5125:this.data=new Uint32Array(g);break;case 5126:this.data=
new Float32Array(g);break;case 36193:this.data=G(g)}if(this.data&&this.needsTranspose){g=this.data;e=this.width;l=this.height;q=this.channels;t=this.strideX;u=this.strideY;v=this.strideC;m=this.offset;w=new g.constructor(e*l*q);for(var y=0,A=0;A<l;++A)for(var z=0;z<e;++z)for(var B=0;B<q;++B)w[y++]=g[u*A+t*z+v*B+m];this.data=w}this.needsTranspose=!1},setDefaultFormat:function(){this.format=this.internalformat=6408;this.type=5121;this.channels=4;this.compressed=!1},upload:function(a){e.pixelStorei(37440,
this.flipY);e.pixelStorei(37441,this.premultiplyAlpha);e.pixelStorei(37443,this.colorSpace);e.pixelStorei(3317,this.unpackAlignment);var b=this.target,c=this.miplevel,d=this.image,f=this.canvas,h=this.video,n=this.data,p=this.internalformat,k=this.format,g=this.type,l=this.width||Math.max(1,a.width>>c);a=this.height||Math.max(1,a.height>>c);h&&2<h.readyState?e.texImage2D(b,c,k,k,g,h):d&&d.complete?e.texImage2D(b,c,k,k,g,d):f?e.texImage2D(b,c,k,k,g,f):this.compressed?e.compressedTexImage2D(b,c,p,l,
a,0,n):this.copy?(v(),e.copyTexImage2D(b,c,k,this.x,this.y,l,a,0)):n?e.texImage2D(b,c,k,l,a,0,k,g,n):e.texImage2D(b,c,k,l||1,a||1,0,k,g,null)}});f(w.prototype,{parse:function(a){if("object"===typeof a&&a){"min"in a&&(this.minFilter=J[a.min]);"mag"in a&&(this.magFilter=da[a.mag]);var b=this.wrapS,c=this.wrapT;if("wrap"in a){var d=a.wrap;"string"===typeof d?b=c=U[d]:Array.isArray(d)&&(b=U[d[0]],c=U[d[1]])}else"wrapS"in a&&(b=U[a.wrapS]),"wrapT"in a&&(c=U[a.wrapT]);this.wrapS=b;this.wrapT=c;"anisotropic"in
a&&(this.anisotropic=a.anisotropic);if("mipmap"in a)switch(a=a.mipmap,typeof a){case "string":this.mipmapHint=C[a];this.genMipmaps=!0;break;case "boolean":this.genMipmaps=!!a}}},upload:function(){var a=this.target;e.texParameteri(a,10241,this.minFilter);e.texParameteri(a,10240,this.magFilter);e.texParameteri(a,10242,this.wrapS);e.texParameteri(a,10243,this.wrapT);g.ext_texture_filter_anisotropic&&e.texParameteri(a,34046,this.anisotropic);this.genMipmaps&&(e.hint(33170,this.mipmapHint),e.generateMipmap(a))}});
var H=0,u=0,T={},O=[],R=m.maxTextureUnits,F=Array(R).map(function(){return null});f(B.prototype,{bind:function(){this.bindCount+=1;var a=this.unit;if(0>a){for(var b=0;b<R;++b){var c=F[b];if(c){if(0<c.bindCount)continue;c.unit=-1}F[b]=this;a=b;break}this.unit=a;e.activeTexture(33984+a);e.bindTexture(this.target,this.texture);H=a}return a},unbind:function(){--this.bindCount},decRef:function(){0===--this.refCount&&E(this)}});return{create:function(a,b){function c(a,f,h,e,n,p){var k=a||{};34067===b&&
6===arguments.length&&(k=[a,f,h,e,n,p]);V(d,k);c.width=d.params.width;c.height=d.params.height;return c}var d=new B(b);T[d.id]=d;c(a);c._reglType="texture";c._texture=d;c.destroy=function(){d.decRef()};return c},refresh:function(){p(T).forEach(Q);for(var a=0;a<R;++a)F[a]=null;H=0;e.activeTexture(33984)},clear:function(){for(var a=0;a<R;++a)e.activeTexture(33984+a),e.bindTexture(3553,null),F[a]=null;e.activeTexture(33984);H=0;p(T).forEach(E)},poll:function(){O.forEach(Q)},getTexture:function(a){return null}}}},
{"./util/extend":24,"./util/is-ndarray":25,"./util/is-typed-array":26,"./util/load-texture":27,"./util/parse-dds":28,"./util/to-half-float":31,"./util/values":32}],21:[function(e,g,m){g.exports=function(a){var b={};return{def:function(d){d=a.id(d);var c=b[d];c||(c=b[d]=[]);return c},uniforms:b}}},{}],22:[function(e,g,m){g.exports="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date}},{}],23:[function(e,g,m){var a=e("./extend");g.exports=
function(){function b(){var b=[],c=[];return a(function(){b.push.apply(b,Array.prototype.slice.call(arguments))},{def:function(){var a="v"+d++;c.push(a);0<arguments.length&&(b.push(a,"="),b.push.apply(b,Array.prototype.slice.call(arguments)),b.push(";"));return a},toString:function(){return[0<c.length?"var "+c+";":"",b.join("")].join("")}})}var d=0,c=[],e=[],f={};return{link:function(a){var b="g"+d++;c.push(b);e.push(a);return b},block:b,proc:function(c){var h=[],e=b(),n=e.toString;return f[c]=a(e,
{arg:function(){var a="a"+d++;h.push(a);return a},toString:function(){return["function(",h.join(),"){",n(),"}"].join("")}})},compile:function(){var a=['"use strict";return {'];Object.keys(f).forEach(function(b){a.push('"',b,'":',f[b].toString(),",")});a.push("}");return Function.apply(null,c.concat([a.join("")])).apply(null,e)}}}},{"./extend":24}],24:[function(e,g,m){g.exports=function(a,b){for(var d=Object.keys(b),c=0;c<d.length;++c)a[d[c]]=b[d[c]];return a}},{}],25:[function(e,g,m){var a=e("./is-typed-array");
g.exports=function(b){return"object"===typeof b&&Array.isArray(b.shape)&&Array.isArray(b.stride)&&"number"===typeof b.offset&&b.shape.length===b.stride.length&&(Array.isArray(b.data)||a(b.data))}},{"./is-typed-array":26}],26:[function(e,g,m){var a=e("../constants/arraytypes.json");g.exports=function(b){return Object.prototype.toString.call(b)in a}},{"../constants/arraytypes.json":5}],27:[function(e,g,m){g.exports=function(a,b){if("undefined"!==typeof document){var d;d=(d=/\.(\w+)(\?.*)?$/.exec(a))&&
d[1]?d[1].toLowerCase():void 0;if(0<="avi asf gifv mov qt yuv mpg mpeg m2v mp4 m4p m4v ogg ogv vob webm wmv".split(" ").indexOf(d))return d=document.createElement("video"),d.autoplay=!0,d.loop=!0,b&&(d.crossOrigin=b),d.src=a,d;if(0<=["dds"].indexOf(d))return d=new XMLHttpRequest,d.responseType="arraybuffer",d.open("GET",a,!0),d.send(),d;d=new Image;b&&(d.crossOrigin=b);d.src=a;return d}return null}},{}],28:[function(e,g,m){g.exports=function(e){function g(a){for(var b=C,c=U,d=0;d<X;++d){var f=Math.max(1,
b+3>>2)*Math.max(1,c+3>>2)*ea;ja.pixels.push({target:a,miplevel:d,width:b,height:c,data:new Uint8Array(e,ba,f)});ba+=f;b>>=1;c>>=1}}var m=new Int32Array(e),E=m[v],C=m[D],U=m[x],da=h,J=0,ea=0,Y=4;switch(m[B]){case l:ea=8;E&G?(Y=3,J=d):J=c;break;case q:ea=16;J=n;break;case t:ea=16;J=f;break;case z:ea=8,J=p}var X=1;m[A]&k&&(X=Math.max(1,m[w]));var ba=m[y]+4,ja={width:C,height:U,channels:Y,format:J,type:da,compressed:!0,cube:!1,pixels:[]};if(m[V]&r)for(ja.cube=!0,m=0;6>m;++m)g(b+m);else g(a);return ja};
var a=3553,b=34069,d=33776,c=33777,n=33778,f=33779,p=36196,h=5121,k=131072,r=512,G=64,l=827611204,q=861165636,t=894720068,z=826496069,y=1,v=2,x=3,D=4,w=7,A=20,B=21,V=28},{}],29:[function(e,g,m){g.exports="function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?{next:function(a){return requestAnimationFrame(a)},cancel:function(a){return cancelAnimationFrame(a)}}:{next:function(a){setTimeout(a,30)},cancel:clearTimeout}},{}],30:[function(e,g,m){g.exports=function(a,b){var d=
a.length,c=a.slice(),e=a.slice(),f=!1,p=!0;return{push:function(){f=!1;for(var a=0;a<d;++a){var b=arguments[a];f=f||b!==e[a];c.push(b)}},pop:function(){f=!1;c.length-=d;for(var a=0;a<d;++a)f=f||c[c.length-d+a]!==e[a]},poll:function(){var a=c.length-d;if(f||p){switch(d){case 1:b(c[a]);break;case 2:b(c[a],c[a+1]);break;case 3:b(c[a],c[a+1],c[a+2]);break;case 4:b(c[a],c[a+1],c[a+2],c[a+3]);break;case 5:b(c[a],c[a+1],c[a+2],c[a+3],c[a+4]);break;case 6:b(c[a],c[a+1],c[a+2],c[a+3],c[a+4],c[a+5]);break;
default:b.apply(null,c.slice(a,c.length))}for(var k=0;k<d;++k)e[k]=c[a+k];p=f=!1}},setDirty:function(){p=!0}}}},{}],31:[function(e,g,m){g.exports=function(a){for(var b=new Float32Array(a),b=new Uint32Array(b.buffer),d=new Uint16Array(a.length),c=0;c<a.length;++c)if(isNaN(a[c]))d[c]=65535;else if(Infinity===a[c])d[c]=31744;else if(-Infinity===a[c])d[c]=64512;else{var e=b[c],f=e>>>31<<15,p=(e<<1>>>24)-127,e=e>>13&1023;d[c]=-24>p?f:-14>p?f+(e+1024>>-14-p):15<p?f+31744:f+(p+15<<10)+e}return d}},{}],32:[function(e,
g,m){g.exports=function(a){return Object.keys(a).map(function(b){return a[b]})}},{}],33:[function(e,g,m){g.exports=function(a,b){var d=b[0],c=b[1],e=b[2],f=b[3],p=b[4],h=b[5],k=b[6],g=b[7],m=b[8],l=b[9],q=b[10],t=b[11],z=b[12],y=b[13],v=b[14],x=b[15];a[0]=h*(q*x-t*v)-l*(k*x-g*v)+y*(k*t-g*q);a[1]=-(c*(q*x-t*v)-l*(e*x-f*v)+y*(e*t-f*q));a[2]=c*(k*x-g*v)-h*(e*x-f*v)+y*(e*g-f*k);a[3]=-(c*(k*t-g*q)-h*(e*t-f*q)+l*(e*g-f*k));a[4]=-(p*(q*x-t*v)-m*(k*x-g*v)+z*(k*t-g*q));a[5]=d*(q*x-t*v)-m*(e*x-f*v)+z*(e*t-
f*q);a[6]=-(d*(k*x-g*v)-p*(e*x-f*v)+z*(e*g-f*k));a[7]=d*(k*t-g*q)-p*(e*t-f*q)+m*(e*g-f*k);a[8]=p*(l*x-t*y)-m*(h*x-g*y)+z*(h*t-g*l);a[9]=-(d*(l*x-t*y)-m*(c*x-f*y)+z*(c*t-f*l));a[10]=d*(h*x-g*y)-p*(c*x-f*y)+z*(c*g-f*h);a[11]=-(d*(h*t-g*l)-p*(c*t-f*l)+m*(c*g-f*h));a[12]=-(p*(l*v-q*y)-m*(h*v-k*y)+z*(h*q-k*l));a[13]=d*(l*v-q*y)-m*(c*v-e*y)+z*(c*q-e*l);a[14]=-(d*(h*v-k*y)-p*(c*v-e*y)+z*(c*k-e*h));a[15]=d*(h*q-k*l)-p*(c*q-e*l)+m*(c*k-e*h);return a}},{}],34:[function(e,g,m){g.exports=function(a){var b=new Float32Array(16);
b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b}},{}],35:[function(e,g,m){g.exports=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}},{}],36:[function(e,g,m){g.exports=function(){var a=new Float32Array(16);a[0]=1;a[1]=0;a[2]=
0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}},{}],37:[function(e,g,m){g.exports=function(a){var b=a[0],d=a[1],c=a[2],e=a[3],f=a[4],p=a[5],h=a[6],g=a[7],r=a[8],m=a[9],l=a[10],q=a[11],t=a[12],z=a[13],y=a[14];a=a[15];return(b*p-d*f)*(l*a-q*y)-(b*h-c*f)*(m*a-q*z)+(b*g-e*f)*(m*y-l*z)+(d*h-c*p)*(r*a-q*t)-(d*g-e*p)*(r*y-l*t)+(c*g-e*h)*(r*z-m*t)}},{}],38:[function(e,g,m){g.exports=function(a,b){var d=b[0],c=b[1],e=b[2],f=b[3],p=d+d,h=c+c,g=e+
e,d=d*p,r=c*p,c=c*h,m=e*p,l=e*h,e=e*g,p=f*p,h=f*h,f=f*g;a[0]=1-c-e;a[1]=r+f;a[2]=m-h;a[3]=0;a[4]=r-f;a[5]=1-d-e;a[6]=l+p;a[7]=0;a[8]=m+h;a[9]=l-p;a[10]=1-d-c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}},{}],39:[function(e,g,m){g.exports=function(a,b,d){var c=b[0],e=b[1],f=b[2],p=b[3],h=c+c,g=e+e,r=f+f;b=c*h;var m=c*g,c=c*r,l=e*g,e=e*r,f=f*r,h=p*h,g=p*g,p=p*r;a[0]=1-(l+f);a[1]=m+p;a[2]=c-g;a[3]=0;a[4]=m-p;a[5]=1-(b+f);a[6]=e+h;a[7]=0;a[8]=c+g;a[9]=e-h;a[10]=1-(b+l);a[11]=0;a[12]=d[0];a[13]=d[1];
a[14]=d[2];a[15]=1;return a}},{}],40:[function(e,g,m){g.exports=function(a,b,d,c,e,f,g){var h=1/(d-b),k=1/(e-c),r=1/(f-g);a[0]=2*f*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*k;a[6]=0;a[7]=0;a[8]=(d+b)*h;a[9]=(e+c)*k;a[10]=(g+f)*r;a[11]=-1;a[12]=0;a[13]=0;a[14]=g*f*2*r;a[15]=0;return a}},{}],41:[function(e,g,m){g.exports=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}},{}],42:[function(e,g,m){g.exports={create:e("./create"),
clone:e("./clone"),copy:e("./copy"),identity:e("./identity"),transpose:e("./transpose"),invert:e("./invert"),adjoint:e("./adjoint"),determinant:e("./determinant"),multiply:e("./multiply"),translate:e("./translate"),scale:e("./scale"),rotate:e("./rotate"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),fromRotationTranslation:e("./fromRotationTranslation"),fromQuat:e("./fromQuat"),frustum:e("./frustum"),perspective:e("./perspective"),perspectiveFromFieldOfView:e("./perspectiveFromFieldOfView"),
ortho:e("./ortho"),lookAt:e("./lookAt"),str:e("./str")}},{"./adjoint":33,"./clone":34,"./copy":35,"./create":36,"./determinant":37,"./fromQuat":38,"./fromRotationTranslation":39,"./frustum":40,"./identity":41,"./invert":43,"./lookAt":44,"./multiply":45,"./ortho":46,"./perspective":47,"./perspectiveFromFieldOfView":48,"./rotate":49,"./rotateX":50,"./rotateY":51,"./rotateZ":52,"./scale":53,"./str":54,"./translate":55,"./transpose":56}],43:[function(e,g,m){g.exports=function(a,b){var d=b[0],c=b[1],e=
b[2],f=b[3],g=b[4],h=b[5],k=b[6],r=b[7],m=b[8],l=b[9],q=b[10],t=b[11],z=b[12],y=b[13],v=b[14],x=b[15],D=d*h-c*g,w=d*k-e*g,A=d*r-f*g,B=c*k-e*h,V=c*r-f*h,Q=e*r-f*k,S=m*y-l*z,N=m*v-q*z,E=m*x-t*z,C=l*v-q*y,U=l*x-t*y,da=q*x-t*v,J=D*da-w*U+A*C+B*E-V*N+Q*S;if(!J)return null;J=1/J;a[0]=(h*da-k*U+r*C)*J;a[1]=(e*U-c*da-f*C)*J;a[2]=(y*Q-v*V+x*B)*J;a[3]=(q*V-l*Q-t*B)*J;a[4]=(k*E-g*da-r*N)*J;a[5]=(d*da-e*E+f*N)*J;a[6]=(v*A-z*Q-x*w)*J;a[7]=(m*Q-q*A+t*w)*J;a[8]=(g*U-h*E+r*S)*J;a[9]=(c*E-d*U-f*S)*J;a[10]=(z*V-y*
A+x*D)*J;a[11]=(l*A-m*V-t*D)*J;a[12]=(h*N-g*C-k*S)*J;a[13]=(d*C-c*N+e*S)*J;a[14]=(y*w-z*B-v*D)*J;a[15]=(m*B-l*w+q*D)*J;return a}},{}],44:[function(e,g,m){var a=e("./identity");g.exports=function(b,d,c,e){var f,g,h,k,r,m,l,q,t=d[0],z=d[1];d=d[2];h=e[0];k=e[1];g=e[2];l=c[0];e=c[1];f=c[2];if(1E-6>Math.abs(t-l)&&1E-6>Math.abs(z-e)&&1E-6>Math.abs(d-f))return a(b);c=t-l;e=z-e;l=d-f;q=1/Math.sqrt(c*c+e*e+l*l);c*=q;e*=q;l*=q;f=k*l-g*e;g=g*c-h*l;h=h*e-k*c;(q=Math.sqrt(f*f+g*g+h*h))?(q=1/q,f*=q,g*=q,h*=q):
h=g=f=0;k=e*h-l*g;r=l*f-c*h;m=c*g-e*f;(q=Math.sqrt(k*k+r*r+m*m))?(q=1/q,k*=q,r*=q,m*=q):m=r=k=0;b[0]=f;b[1]=k;b[2]=c;b[3]=0;b[4]=g;b[5]=r;b[6]=e;b[7]=0;b[8]=h;b[9]=m;b[10]=l;b[11]=0;b[12]=-(f*t+g*z+h*d);b[13]=-(k*t+r*z+m*d);b[14]=-(c*t+e*z+l*d);b[15]=1;return b}},{"./identity":41}],45:[function(e,g,m){g.exports=function(a,b,d){var c=b[0],e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],r=b[6],m=b[7],l=b[8],q=b[9],t=b[10],z=b[11],y=b[12],v=b[13],x=b[14];b=b[15];var D=d[0],w=d[1],A=d[2],B=d[3];a[0]=D*c+w*h+A*l+B*
y;a[1]=D*e+w*k+A*q+B*v;a[2]=D*f+w*r+A*t+B*x;a[3]=D*g+w*m+A*z+B*b;D=d[4];w=d[5];A=d[6];B=d[7];a[4]=D*c+w*h+A*l+B*y;a[5]=D*e+w*k+A*q+B*v;a[6]=D*f+w*r+A*t+B*x;a[7]=D*g+w*m+A*z+B*b;D=d[8];w=d[9];A=d[10];B=d[11];a[8]=D*c+w*h+A*l+B*y;a[9]=D*e+w*k+A*q+B*v;a[10]=D*f+w*r+A*t+B*x;a[11]=D*g+w*m+A*z+B*b;D=d[12];w=d[13];A=d[14];B=d[15];a[12]=D*c+w*h+A*l+B*y;a[13]=D*e+w*k+A*q+B*v;a[14]=D*f+w*r+A*t+B*x;a[15]=D*g+w*m+A*z+B*b;return a}},{}],46:[function(e,g,m){g.exports=function(a,b,d,c,e,f,g){var h=1/(b-d),k=1/(c-
e),r=1/(f-g);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*k;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*r;a[11]=0;a[12]=(b+d)*h;a[13]=(e+c)*k;a[14]=(g+f)*r;a[15]=1;return a}},{}],47:[function(e,g,m){g.exports=function(a,b,d,c,e){b=1/Math.tan(b/2);var f=1/(c-e);a[0]=b/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(e+c)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*e*c*f;a[15]=0;return a}},{}],48:[function(e,g,m){g.exports=function(a,b,d,c){var e=Math.tan(b.upDegrees*Math.PI/180),f=Math.tan(b.downDegrees*
Math.PI/180),g=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);var h=2/(g+b),k=2/(e+f);a[0]=h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=k;a[6]=0;a[7]=0;a[8]=-((g-b)*h*.5);a[9]=(e-f)*k*.5;a[10]=c/(d-c);a[11]=-1;a[12]=0;a[13]=0;a[14]=c*d/(d-c);a[15]=0;return a}},{}],49:[function(e,g,m){g.exports=function(a,b,d,c){var e=c[0],f=c[1];c=c[2];var g=Math.sqrt(e*e+f*f+c*c),h,k,r,m,l,q,t,z,y,v,x,D,w,A,B,V,Q,S,N,E;if(1E-6>Math.abs(g))return null;g=1/g;e*=g;f*=g;c*=g;h=Math.sin(d);k=Math.cos(d);
r=1-k;d=b[0];g=b[1];m=b[2];l=b[3];q=b[4];t=b[5];z=b[6];y=b[7];v=b[8];x=b[9];D=b[10];w=b[11];A=e*e*r+k;B=f*e*r+c*h;V=c*e*r-f*h;Q=e*f*r-c*h;S=f*f*r+k;N=c*f*r+e*h;E=e*c*r+f*h;e=f*c*r-e*h;f=c*c*r+k;a[0]=d*A+q*B+v*V;a[1]=g*A+t*B+x*V;a[2]=m*A+z*B+D*V;a[3]=l*A+y*B+w*V;a[4]=d*Q+q*S+v*N;a[5]=g*Q+t*S+x*N;a[6]=m*Q+z*S+D*N;a[7]=l*Q+y*S+w*N;a[8]=d*E+q*e+v*f;a[9]=g*E+t*e+x*f;a[10]=m*E+z*e+D*f;a[11]=l*E+y*e+w*f;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}},{}],50:[function(e,g,m){g.exports=
function(a,b,d){var c=Math.sin(d);d=Math.cos(d);var e=b[4],f=b[5],g=b[6],h=b[7],k=b[8],m=b[9],G=b[10],l=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*d+k*c;a[5]=f*d+m*c;a[6]=g*d+G*c;a[7]=h*d+l*c;a[8]=k*d-e*c;a[9]=m*d-f*c;a[10]=G*d-g*c;a[11]=l*d-h*c;return a}},{}],51:[function(e,g,m){g.exports=function(a,b,d){var c=Math.sin(d);d=Math.cos(d);var e=b[0],f=b[1],g=b[2],h=b[3],k=b[8],m=b[9],G=b[10],l=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=
b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*d-k*c;a[1]=f*d-m*c;a[2]=g*d-G*c;a[3]=h*d-l*c;a[8]=e*c+k*d;a[9]=f*c+m*d;a[10]=g*c+G*d;a[11]=h*c+l*d;return a}},{}],52:[function(e,g,m){g.exports=function(a,b,d){var c=Math.sin(d);d=Math.cos(d);var e=b[0],f=b[1],g=b[2],h=b[3],k=b[4],m=b[5],G=b[6],l=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*d+k*c;a[1]=f*d+m*c;a[2]=g*d+G*c;a[3]=h*d+l*c;a[4]=k*d-e*c;a[5]=m*d-f*c;
a[6]=G*d-g*c;a[7]=l*d-h*c;return a}},{}],53:[function(e,g,m){g.exports=function(a,b,d){var c=d[0],e=d[1];d=d[2];a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}},{}],54:[function(e,g,m){g.exports=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+
a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}},{}],55:[function(e,g,m){g.exports=function(a,b,d){var c=d[0],e=d[1];d=d[2];var f,g,h,k,m,G,l,q,t,z,y,v;b===a?(a[12]=b[0]*c+b[4]*e+b[8]*d+b[12],a[13]=b[1]*c+b[5]*e+b[9]*d+b[13],a[14]=b[2]*c+b[6]*e+b[10]*d+b[14],a[15]=b[3]*c+b[7]*e+b[11]*d+b[15]):(f=b[0],g=b[1],h=b[2],k=b[3],m=b[4],G=b[5],l=b[6],q=b[7],t=b[8],z=b[9],y=b[10],v=b[11],a[0]=f,a[1]=g,a[2]=h,a[3]=k,a[4]=m,a[5]=G,a[6]=l,a[7]=q,a[8]=t,a[9]=z,a[10]=y,a[11]=v,a[12]=f*c+m*e+t*d+b[12],a[13]=g*c+G*e+
z*d+b[13],a[14]=h*c+l*e+y*d+b[14],a[15]=k*c+q*e+v*d+b[15]);return a}},{}],56:[function(e,g,m){g.exports=function(a,b){if(a===b){var d=b[1],c=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=d;a[6]=b[9];a[7]=b[13];a[8]=c;a[9]=f;a[11]=b[14];a[12]=e;a[13]=g;a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}},{}],57:[function(e,g,m){function a(a,
c,d,e){e[0]=b(255*a);e[1]=b(255*c);e[2]=b(255*d)}var b=Math.round,d=Math.min,c=Math.max,n=Math.ceil;g.exports=function(b,e,g,k){k=k||[0,0,0];b%=360;e=c(0,d(e,1));g=c(0,d(g,1));if(e){e=(1-e)*g;var m=g-e,G=b%60;switch(b/60|0){case 0:a(g,m*b/60+e,e,k);break;case 1:a(m*(60-G)/60+e,g,e,k);break;case 2:a(e,g,m*G/60+e,k);break;case 3:a(e,m*(60-G)/60+e,g,k);break;case 4:a(m*G/60+e,e,g,k);break;case 5:a(g,e,m*(60-G)/60+e,k)}}else k[0]=k[1]=k[2]=n(255*g);return k}},{}],58:[function(e,g,m){var a=e("./lib/util/extend"),
b=e("./lib/context"),d=e("./lib/strings"),c=e("./lib/extension"),n=e("./lib/limits"),f=e("./lib/buffer"),p=e("./lib/elements"),h=e("./lib/texture"),k=e("./lib/renderbuffer"),r=e("./lib/framebuffer"),G=e("./lib/uniform"),l=e("./lib/attribute"),q=e("./lib/shader"),t=e("./lib/draw"),z=e("./lib/state"),y=e("./lib/compile"),v=e("./lib/read"),x=e("./lib/dynamic"),D=e("./lib/util/raf"),w=e("./lib/util/clock");g.exports=function(){function e(){fa=D.next(e);R.count+=1;if(R.width!==C.drawingBufferWidth||R.height!==
C.drawingBufferHeight)R.width=C.drawingBufferWidth,R.height=C.drawingBufferHeight,F.notifyViewportChanged();var a=w();R.dt=a-R.t;R.t=a;u.poll();for(var b=0;b<M.length;++b)(0,M[b])(R.count,R.t,R.dt);R.renderTime=w()-a}function g(){fa&&(D.cancel(e),fa=0)}function m(a){g();a.preventDefault();if(U.onContextLost)U.onContextLost()}function Q(a){C.getError();da.refresh();X.refresh();u.refresh();T.refresh();O.refresh();ma.refresh();F.refresh();if(U.onContextRestored)U.onContextRestored();e()}function S(b){function c(a){var b=
{},e={};Object.keys(a).forEach(function(c){var f=a[c];x.isDynamic(f)?(d=!0,e[c]=x.unbox(f,c)):b[c]=f});return{dynamic:e,"static":b}}var d=!1,e=c(b.uniforms||{}),f=c(b.attributes||{});b=c(function(b){function c(a){if(a in d){var b=d[a];delete d[a];Object.keys(b).forEach(function(c){d[a+"."+c]=b[c]})}}var d=a({},b);delete d.uniforms;delete d.attributes;c("blend");c("depth");c("cull");c("stencil");c("polygonOffset");c("scissor");c("sample");return d}(b));var e=aa.command(b["static"],e["static"],f["static"],
b.dynamic,e.dynamic,f.dynamic,d),g=e.draw,h=e.batch,k=e.scope,l=[];return function(a,b){if("function"===typeof a)return k(null,a);if("function"===typeof b)return k(a,b);if("number"===typeof a){for(var c=a|0;l.length<c;)l.push(null);return h(a|0,l)}return Array.isArray(a)?h(a.length,a):g(a)}}function N(){O.poll();F.poll()}var E=b(Array.prototype.slice.call(arguments)),C=E.gl,U=E.options,E=d(),da=c(C),J=da.extensions,ea={width:C.drawingBufferWidth,height:C.drawingBufferHeight},Y=n(C,J),X=f(C),ba=p(C,
J,X),ja=G(E),na=l(C,J,Y,X,E),ma=q(C,na,ja,function(a){return aa.draw(a)},E),H=t(C,J,X),u=h(C,J,Y,N,ea),T=k(C,J,Y),O=r(C,J,Y,u,T),R={count:0,start:w(),dt:0,t:w(),renderTime:0,width:C.drawingBufferWidth,height:C.drawingBufferHeight,pixelRatio:U.pixelRatio},F=z(C,O,ea),ea=v(C,N,ea),aa=y(C,E,J,Y,X,ba,u,O,F,ja,na,ma,H,R,N),W=C.canvas,M=[],fa=0;W&&(W.addEventListener("webglcontextlost",m,!1),W.addEventListener("webglcontextrestored",Q,!1));return a(S,{clear:function(a){var b=0;N();var c=a.color;c&&(C.clearColor(+c[0]||
0,+c[1]||0,+c[2]||0,+c[3]||0),b|=16384);"depth"in a&&(C.clearDepth(+a.depth),b|=256);"stencil"in a&&(C.clearStencil(a.stencil|0),b|=1024);C.clear(b)},prop:x.define,draw:S({}),elements:function(a){return ba.create(a)},buffer:function(a){return X.create(a,34962)},texture:function(a){return u.create(a,3553)},cube:function(a){return 6===arguments.length?u.create(Array.prototype.slice.call(arguments),34067):u.create(a,34067)},renderbuffer:function(a){return T.create(a)},framebuffer:function(a){return O.create(a)},
framebufferCube:function(a){},frame:function(a){M.push(a);!fa&&0<M.length&&e();return{cancel:function(){var b=M.find(function(b){return b===a});0>b||(M.splice(b,1),0>=M.length&&g())}}},stats:R,limits:Y,read:ea,destroy:function(){g();W&&(W.removeEventListener("webglcontextlost",m),W.removeEventListener("webglcontextrestored",Q));ma.clear();O.clear();T.clear();u.clear();X.clear();if(U.onDestroy)U.onDestroy()}})}},{"./lib/attribute":2,"./lib/buffer":3,"./lib/compile":4,"./lib/context":8,"./lib/draw":9,
"./lib/dynamic":10,"./lib/elements":11,"./lib/extension":12,"./lib/framebuffer":13,"./lib/limits":14,"./lib/read":15,"./lib/renderbuffer":16,"./lib/shader":17,"./lib/state":18,"./lib/strings":19,"./lib/texture":20,"./lib/uniform":21,"./lib/util/clock":22,"./lib/util/extend":24,"./lib/util/raf":29}]},{},[1]);

        </script>
        </body>
      </html>