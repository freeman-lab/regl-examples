(function e$$0(q,w,h){function l(b,d){if(!w[b]){if(!q[b]){var a="function"==typeof require&&require;if(!d&&a)return a(b,!0);if(p)return p(b,!0);a=Error("Cannot find module '"+b+"'");throw a.code="MODULE_NOT_FOUND",a;}a=w[b]={exports:{}};q[b][0].call(a.exports,function(d){var a=q[b][1][d];return l(a?a:d)},a,a.exports,e$$0,q,w,h)}return w[b].exports}for(var p="function"==typeof require&&require,v=0;v<h.length;v++)l(h[v]);return l})({1:[function(c,q,w){var h=c("../regl")(),l=h({frag:"\n  precision mediump float;\n  uniform sampler2D texture;\n  uniform vec2 screenShape;\n  uniform float time;\n\n  varying vec2 uv;\n\n  vec4 background () {\n    vec2 pos = 0.5 - gl_FragCoord.xy / screenShape;\n    float r = length(pos);\n    float theta = atan(pos.y, pos.x);\n    return vec4(\n      cos(pos.x * time) + sin(pos.y * pos.x * time),\n      cos(100.0 * r * cos(0.3 * time) + theta),\n      sin(time / r + pos.x * cos(10.0 * time + 3.0)),\n      1);\n  }\n\n  void main () {\n    vec4 color = texture2D(texture, uv);\n    float chromakey = step(0.15 + max(color.r, color.b), color.g);\n    gl_FragColor = mix(color, background(), chromakey);\n  }",
vert:"\n  precision mediump float;\n  attribute vec2 position;\n  varying vec2 uv;\n  void main () {\n    uv = position;\n    gl_Position = vec4(1.0 - 2.0 * position, 0, 1);\n  }",attributes:{position:[-2,0,0,-2,2,2]},uniforms:{texture:h.prop("video"),screenShape:function(l){return[l.viewportWidth,l.viewportHeight]},time:h.context("time")},count:3});c("resl")({manifest:{video:{type:"video",src:"assets/doggie-chromakey.ogv",stream:!0}},onDone:function(p){var v=p.video;v.autoplay=!0;v.loop=!0;v.play();
var b=h.texture(v);h.frame(function(){l({video:b.subimage(v)})})}})},{"../regl":34,resl:33}],2:[function(c,q,w){function h(){this.w=this.z=this.y=this.x=this.state=0;this.buffer=null;this.size=0;this.normalized=!1;this.type=5126;this.divisor=this.stride=this.offset=0}q.exports=function(l,p,v,b,d){l=v.maxAttributes;p=Array(l);for(v=0;v<l;++v)p[v]=new h;return{Record:h,scope:{},state:p}}},{}],3:[function(c,q,w){function h(b){return D[Object.prototype.toString.call(b)]|0}function l(b,d){for(var a=0;a<
d.length;++a)b[a]=d[a]}function p(b,d,a,l,h,v,e){for(var p=0,c=0;c<a;++c)for(var g=0;g<l;++g)b[p++]=d[h*c+v*g+e]}function v(b,d,a){for(var l=0,h=0;h<d.length;++h)for(var v=d[h],e=0;e<a;++e)b[l++]=v[e]}var b=c("./util/is-typed-array"),d=c("./util/is-ndarray"),a=c("./util/values"),y=c("./util/pool"),D=c("./constants/arraytypes.json"),x=c("./constants/dtypes.json"),H=c("./constants/usage.json");q.exports=function(t,c){function r(g){this.id=e++;this.buffer=t.createBuffer();this.type=g;this.usage=35044;
this.byteLength=0;this.dimension=1;this.dtype=5121}function u(g,b,d){g.byteLength=b.byteLength;t.bufferData(g.type,b,d)}function B(g,a,e,c,t){g.usage=e;if(Array.isArray(a))g.dtype=c||5126,0<a.length&&(Array.isArray(a[0])?(g.dimension=a[0].length,c=y.allocType(g.dtype,a.length*g.dimension),v(c,a,g.dimension),u(g,c,e),y.freeType(c)):"number"===typeof a[0]?(g.dimension=t,c=y.allocType(g.dtype,a.length),l(c,a),u(g,c,e),y.freeType(c)):b(a[0])&&(g.dimension=a[0].length,g.dtype=c||h(a[0])||5126,c=y.allocType(g.dtype,
a.length*g.dimension),v(c,a,g.dimension),u(g,c,e),y.freeType(c)));else if(b(a))g.dtype=c||h(a),g.dimension=t,u(g,a,e);else if(d(a)){var r=a.shape,F=a.stride;t=a.offset;var G=0,n=0,M=0,R=0;1===r.length?(G=r[0],n=1,M=F[0],R=0):2===r.length&&(G=r[0],n=r[1],M=F[0],R=F[1]);g.dtype=c||h(a.data)||5126;g.dimension=n;c=y.allocType(g.dtype,G*n);p(c,a.data,G,n,M,R,t);u(g,c,e);y.freeType(c)}}function F(b){c.bufferCount--;t.deleteBuffer(b.buffer);b.buffer=null;delete q[b.id]}var e=0,q={};r.prototype.bind=function(){t.bindBuffer(this.type,
this.buffer)};r.prototype.destroy=function(){F(this)};var G=[];return{create:function(a,e,u){function G(a){var g=35044,e=null,n=0,l=0,h=1;Array.isArray(a)||b(a)||d(a)?e=a:"number"===typeof a?n=a|0:a&&("data"in a&&(e=a.data),"usage"in a&&(g=H[a.usage]),"type"in a&&(l=x[a.type]),"dimension"in a&&(h=a.dimension|0),"length"in a&&(n=a.length|0));A.bind();e?B(A,e,g,l,h):(t.bufferData(A.type,n,g),A.dtype=l||5121,A.usage=g,A.dimension=h,A.byteLength=n);return G}c.bufferCount++;var A=new r(e);q[A.id]=A;u||
G(a);G._reglType="buffer";G._buffer=A;G.subdata=function(a,g){var e=(g||0)|0;A.bind();if(Array.isArray(a)){if(0<a.length)if("number"===typeof a[0]){var n=y.allocType(A.dtype,a.length);l(n,a);t.bufferSubData(A.type,e,n);y.freeType(n)}else if(Array.isArray(a[0])||b(a[0])){var n=a[0].length,c=y.allocType(A.dtype,a.length*n);v(c,a,n);t.bufferSubData(A.type,e,c);y.freeType(c)}}else if(b(a))t.bufferSubData(A.type,e,a);else if(d(a)){var u=a.shape,r=a.stride,F=c=n=0,H=0;1===u.length?(n=u[0],c=1,F=r[0],H=
0):2===u.length&&(n=u[0],c=u[1],F=r[0],H=r[1]);u=Array.isArray(a.data)?A.dtype:h(a.data);u=y.allocType(u,n*c);p(u,a.data,n,c,F,H,a.offset);t.bufferSubData(A.type,e,u);y.freeType(u)}return G};G.destroy=function(){F(A)};return G},createStream:function(a,b){var d=G.pop();d||(d=new r(a),d.buffer=t.createBuffer());d.bind();B(d,b,35040,0,1);return d},destroyStream:function(a){G.push(a)},clear:function(){a(q).forEach(F)},getBuffer:function(a){return a&&a._buffer instanceof r?a._buffer:null},_initBuffer:B}}},
{"./constants/arraytypes.json":4,"./constants/dtypes.json":5,"./constants/usage.json":7,"./util/is-ndarray":25,"./util/is-typed-array":26,"./util/pool":28,"./util/values":31}],4:[function(c,q,w){q.exports={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121}},{}],5:[function(c,
q,w){q.exports={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,"float":5126,float32:5126}},{}],6:[function(c,q,w){q.exports={points:0,point:0,lines:1,line:1,"line loop":2,"line strip":3,triangles:4,triangle:4,"triangle strip":5,"triangle fan":6}},{}],7:[function(c,q,w){q.exports={"static":35044,dynamic:35048,stream:35040}},{}],8:[function(c,q,w){function h(a){return Array.isArray(a)||D(a)||x(a)}function l(a){return a.sort(function(a,b){return"viewport"===a?-1:"viewport"===b?1:
a<b?-1:1})}function p(a,b,d,e){this.thisDep=a;this.contextDep=b;this.propDep=d;this.append=e}function v(a){return a&&!(a.thisDep||a.contextDep||a.propDep)}function b(a){return new p(!1,!1,!1,a)}function d(a,b){var d=a.type;return 0===d?(d=a.data.length,new p(!0,1<=d,2<=d,b)):new p(3===d,2===d,1===d,b)}var a=c("./util/codegen"),y=c("./util/loop"),D=c("./util/is-typed-array"),x=c("./util/is-ndarray"),H=c("./util/is-array-like"),t=c("./constants/primitives.json"),K=c("./constants/dtypes.json"),r=["x",
"y","z","w"],u={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},B={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,
always:519},F={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},e={cw:2304,ccw:2305},W=new p(!1,!1,!1,function(){});q.exports=function(c,g,q,x,D,A,w,J,P,n,M,R,T,pa,Y){function Q(m){return m.replace(".","_")}function O(m,a,f){var b=Q(m);Ca.push(m);ua[b]=ka[b]=!!f;la[b]=a}function L(m,a,f){var b=Q(m);Ca.push(m);Array.isArray(f)?(ka[b]=f.slice(),ua[b]=f.slice()):ka[b]=ua[b]=f;ma[b]=a}function Z(){var m=a(),f=m.link,b=m.global;
m.id=Ja++;m.batchId="0";var d=f(Ha),C=m.shared={props:"a0"};Object.keys(Ha).forEach(function(k){C[k]=b.def(d,".",k)});var Ka=m.next={},e=m.current={};Object.keys(ma).forEach(function(k){Array.isArray(ka[k])&&(Ka[k]=b.def(C.next,".",k),e[k]=b.def(C.current,".",k))});var k=m.constants={};Object.keys(Da).forEach(function(m){k[m]=b.def(JSON.stringify(Da[m]))});m.invoke=function(k,a){switch(a.type){case 0:var b=["this",C.context,C.props,m.batchId];return k.def(f(a.data),".call(",b.slice(0,Math.max(a.data.length+
1,4)),")");case 1:return k.def(C.props,a.data);case 2:return k.def(C.context,a.data);case 3:return k.def("this",a.data)}};m.attribCache={};var Ga={};m.scopeAttrib=function(k){k=g.id(k);if(k in Ga)return Ga[k];var m=n.scope[k];m||(m=n.scope[k]=new ca);return Ga[k]=f(m)};return m}function na(m){var a=m["static"];m=m.dynamic;var f;if("profile"in a){var e=!!a.profile;f=b(function(m,a){return e});f.enable=e}else if("profile"in m){var C=m.profile;f=d(C,function(m,a){return m.invoke(a,C)})}return f}function qa(m){var a=
m["static"];m=m.dynamic;if("framebuffer"in a){var f=a.framebuffer;return f?(f=J.getFramebuffer(f),b(function(a,m){var E=a.link(f),k=a.shared;m.set(k.framebuffer,".next",E);k=k.context;m.set(k,".framebufferWidth",E+".width");m.set(k,".framebufferHeight",E+".height");return E})):b(function(a,m){var f=a.shared;m.set(f.framebuffer,".next","null");f=f.context;m.set(f,".framebufferWidth",f+".drawingBufferWidth");m.set(f,".framebufferHeight",f+".drawingBufferHeight");return"null"})}if("framebuffer"in m){var e=
m.framebuffer;return d(e,function(m,a){var f=m.invoke(a,e),k=m.shared,E=k.framebuffer,f=a.def(E,".getFramebuffer(",f,")");a.set(E,".next",f);k=k.context;a.set(k,".framebufferWidth",f+"?"+f+".width:"+k+".drawingBufferWidth");a.set(k,".framebufferHeight",f+"?"+f+".height:"+k+".drawingBufferHeight");return f})}return null}function ha(f,a){function b(k){if(k in e){var f=e[k];k=!0;var m=f.x|0,Ia=f.y|0,g,n;"width"in f?g=f.width|0:k=!1;"height"in f?n=f.height|0:k=!1;return new p(!k&&a&&a.thisDep,!k&&a&&
a.contextDep,!k&&a&&a.propDep,function(k,a){var b=k.shared.context,E=g;"width"in f||(E=a.def(b,".","framebufferWidth","-",m));var d=n;"height"in f||(d=a.def(b,".","framebufferHeight","-",Ia));return[m,Ia,E,d]})}if(k in C){var Ba=C[k];k=d(Ba,function(k,a){var f=k.invoke(a,Ba),m=k.shared.context,b=a.def(f,".x|0"),E=a.def(f,".y|0"),d=a.def('"width" in ',f,"?",f,".width|0:","(",m,".","framebufferWidth","-",b,")"),f=a.def('"height" in ',f,"?",f,".height|0:","(",m,".","framebufferHeight","-",E,")");return[b,
E,d,f]});a&&(k.thisDep=k.thisDep||a.thisDep,k.contextDep=k.contextDep||a.contextDep,k.propDep=k.propDep||a.propDep);return k}return a?new p(a.thisDep,a.contextDep,a.propDep,function(k,a){var f=k.shared.context;return[0,0,a.def(f,".","framebufferWidth"),a.def(f,".","framebufferHeight")]}):null}var e=f["static"],C=f.dynamic,g=b("viewport");if(g)var n=g,g=new p(g.thisDep,g.contextDep,g.propDep,function(k,a){var f=n.append(k,a),m=k.shared.context;a.set(m,".viewportWidth",f[2]);a.set(m,".viewportHeight",
f[3]);return f});return{viewport:g,scissor_box:b("scissor.box")}}function oa(a){function f(k){if(k in e){var a=g.id(e[k]);k=b(function(){return a});k.id=a;return k}if(k in n){var m=n[k];return d(m,function(k,a){var f=k.invoke(a,m);return a.def(k.shared.strings,".id(",f,")")})}return null}var e=a["static"],n=a.dynamic,C=f("frag"),l=f("vert"),h=null;v(C)&&v(l)?(h=M.program(l.id,C.id),a=b(function(k,a){return k.link(h)})):a=new p(C&&C.thisDep||l&&l.thisDep,C&&C.contextDep||l&&l.contextDep,C&&C.propDep||
l&&l.propDep,function(k,a){var f=k.shared.shader,m;m=C?C.append(k,a):a.def(f,".","frag");var b;b=l?l.append(k,a):a.def(f,".","vert");return a.def(f+".program("+b+","+m+")")});return{frag:C,vert:l,progVar:a,program:h}}function ia(a){function f(a,k){if(a in e){var m=e[a]|0;return b(function(a,f){k&&(a.OFFSET=m);return m})}if(a in g){var E=g[a];return d(E,function(a,f){var m=a.invoke(f,E);k&&(a.OFFSET=m);return m})}return k&&C?b(function(a,k){a.OFFSET="0";return 0}):null}var e=a["static"],g=a.dynamic,
C=function(){if("elements"in e){var a=e.elements;h(a)?a=A.getElements(A.create(a)):a&&(a=A.getElements(a));var k=b(function(k,f){if(a){var m=k.link(a);return k.ELEMENTS=m}return k.ELEMENTS=null});k.value=a;return k}if("elements"in g){var f=g.elements;return d(f,function(a,k){var m=a.shared,b=m.isBufferArgs,m=m.elements,E=a.invoke(k,f),d=k.def("null"),b=k.def(b,"(",E,")"),E=a.cond(b).then(d,"=",m,".createStream(",E,");")["else"](d,"=",m,".getElements(",E,");");k.entry(E);k.exit(a.cond(b).then(m,".destroyStream(",
d,");"));return a.ELEMENTS=d})}return null}(),n=f("offset",!0);return{elements:C,primitive:function(){if("primitive"in e){var a=e.primitive;return b(function(k,f){return t[a]})}if("primitive"in g){var k=g.primitive;return d(k,function(a,f){var m=a.constants.primTypes,b=a.invoke(f,k);return f.def(m,"[",b,"]")})}return C?v(C)?C.value?b(function(a,k){return k.def(a.ELEMENTS,".primType")}):b(function(){return 4}):new p(C.thisDep,C.contextDep,C.propDep,function(a,k){var f=a.ELEMENTS;return k.def(f,"?",
f,".primType:",4)}):null}(),count:function(){if("count"in e){var a=e.count|0;return b(function(){return a})}if("count"in g){var k=g.count;return d(k,function(a,f){return a.invoke(f,k)})}return C?v(C)?C?n?new p(n.thisDep,n.contextDep,n.propDep,function(a,k){return k.def(a.ELEMENTS,".vertCount-",a.OFFSET)}):b(function(a,k){return k.def(a.ELEMENTS,".vertCount")}):b(function(){return-1}):new p(C.thisDep||n.thisDep,C.contextDep||n.contextDep,C.propDep||n.propDep,function(a,k){var f=a.ELEMENTS;return a.OFFSET?
k.def(f,"?",f,".vertCount-",a.OFFSET,":-1"):k.def(f,"?",f,".vertCount:-1")}):null}(),instances:f("instances",!1),offset:n}}function U(a){var E=a["static"],g=a.dynamic,n={};Ca.forEach(function(a){function m(k,f){if(a in E){var e=k(E[a]);n[l]=b(function(){return e})}else if(a in g){var h=g[a];n[l]=d(h,function(a,k){return f(a,k,a.invoke(k,h))})}}var l=Q(a);switch(a){case "cull.enable":case "blend.enable":case "dither":case "stencil.enable":case "depth.enable":case "scissor.enable":case "polygonOffset.enable":case "sample.alpha":case "sample.enable":case "depth.mask":return m(function(a){return a},
function(a,f,m){return m});case "depth.func":return m(function(a){return B[a]},function(a,f,m){return f.def(a.constants.compareFuncs,"[",m,"]")});case "depth.range":return m(function(a){return a},function(a,f,m){a=f.def("+",m,"[0]");f=f.def("+",m,"[1]");return[a,f]});case "blend.func":return m(function(a){return[u["srcRGB"in a?a.srcRGB:a.src],u["dstRGB"in a?a.dstRGB:a.dst],u["srcAlpha"in a?a.srcAlpha:a.src],u["dstAlpha"in a?a.dstAlpha:a.dst]]},function(a,f,m){function b(a,k){var d=f.def('"',a,k,'" in ',
m,"?",m,".",a,k,":",m,".",a);return f.def(E,"[",d,"]")}var E=a.constants.blendFuncs;a=b("src","RGB");var d=b("src","Alpha"),e=b("dst","RGB"),g=b("dst","Alpha");return[a,e,d,g]});case "blend.equation":return m(function(a){if("string"===typeof a)return[f[a],f[a]];if("object"===typeof a)return[f[a.rgb],f[a.alpha]]},function(a,f,m){var b=a.constants.blendEquations,E=f.def(),d=f.def();a=a.cond("typeof ",m,'==="string"');a.then(E,"=",d,"=",b,"[",m,"];");a["else"](E,"=",b,"[",m,".rgb];",d,"=",b,"[",m,".alpha];");
f(a);return[E,d]});case "blend.color":return m(function(a){return y(4,function(f){return+a[f]})},function(a,f,m){return y(4,function(a){return f.def("+",m,"[",a,"]")})});case "stencil.mask":return m(function(a){return a|0},function(a,f,m){return f.def(m,"|0")});case "stencil.func":return m(function(a){return[B[a.cmp||"keep"],a.ref||0,"mask"in a?a.mask:-1]},function(a,f,m){a=f.def('"cmp" in ',m,"?",a.constants.compareFuncs,"[",m,".cmp]",":",7680);var b=f.def(m,".ref|0");f=f.def('"mask" in ',m,"?",
m,".mask|0:-1");return[a,b,f]});case "stencil.opFront":case "stencil.opBack":return m(function(f){return["stencil.opBack"===a?1029:1028,F[f.fail||"keep"],F[f.zfail||"keep"],F[f.pass||"keep"]]},function(f,m,b){function E(a){return m.def('"',a,'" in ',b,"?",d,"[",b,".",a,"]:",7680)}var d=f.constants.stencilOps;return["stencil.opBack"===a?1029:1028,E("fail"),E("zfail"),E("pass")]});case "polygonOffset.offset":return m(function(a){return[a.factor|0,a.units|0]},function(a,f,m){a=f.def(m,".factor|0");f=
f.def(m,".units|0");return[a,f]});case "cull.face":return m(function(a){var f=0;"front"===a?f=1028:"back"===a&&(f=1029);return f},function(a,f,m){return f.def(m,'==="front"?',1028,":",1029)});case "lineWidth":return m(function(a){return a},function(a,f,m){return m});case "frontFace":return m(function(a){return e[a]},function(a,f,m){return f.def(m+'==="cw"?2304:2305')});case "colorMask":return m(function(a){return a.map(function(a){return!!a})},function(a,f,m){return y(4,function(a){return"!!"+m+"["+
a+"]"})});case "sample.coverage":return m(function(a){return["value"in a?a.value:1,!!a.invert]},function(a,f,m){a=f.def('"value" in ',m,"?+",m,".value:1");f=f.def("!!",m,".invert");return[a,f]})}});return n}function da(a){var f=a["static"],e=a.dynamic,g={};Object.keys(f).forEach(function(a){var m=f[a],d;"number"===typeof m||"boolean"===typeof m?d=b(function(){return m}):"function"!==typeof m||"texture2d"!==m._reglType&&"textureCube"!==m._reglType?H(m)&&(d=b(function(a){return a.global.def("[",y(m.length,
function(a){return m[a]}),"]")})):d=b(function(a){return a.link(m)});d.value=m;g[a]=d});Object.keys(e).forEach(function(a){var f=e[a];g[a]=d(f,function(a,m){return a.invoke(m,f)})});return g}function ea(a){var f=a["static"],e=a.dynamic,n={};Object.keys(f).forEach(function(a){var m=f[a],d=g.id(a),k=new ca;if(h(m))k.state=1,k.buffer=D.getBuffer(D.create(m,34962,!1)),k.type=k.buffer.dtype;else{var e=D.getBuffer(m);if(e)k.state=1,k.buffer=e,k.type=e.dtype;else if(m.constant){var l=m.constant;k.state=
2;"number"===typeof l?k.x=l:r.forEach(function(a,f){f<l.length&&(k[a]=l[f])})}else{var e=D.getBuffer(m.buffer),c=m.offset|0,z=m.stride|0,Ba=m.size|0,I=!!m.normalized,u=0;"type"in m&&(u=K[m.type]);m=m.divisor|0;k.buffer=e;k.state=1;k.size=Ba;k.normalized=I;k.type=u||e.dtype;k.offset=c;k.stride=z;k.divisor=m}}n[a]=b(function(a,f){var m=a.attribCache;if(d in m)return m[d];var b={isStream:!1};Object.keys(k).forEach(function(a){b[a]=k[a]});k.buffer&&(b.buffer=a.link(k.buffer));return m[d]=b})});Object.keys(e).forEach(function(a){var f=
e[a];n[a]=d(f,function(a,m){function b(a){m(n[a],"=",d,".",a,"|0;")}var d=a.invoke(m,f),E=a.shared,e=E.isBufferArgs,g=E.buffer,n={isStream:m.def(!1)},l=new ca;l.state=1;Object.keys(l).forEach(function(a){n[a]=m.def(""+l[a])});var C=n.buffer,h=n.type;m("if(",e,"(",d,")){",n.isStream,"=true;",C,"=",g,".createStream(",34962,",",d,");",h,"=",C,".dtype;","}else{",C,"=",g,".getBuffer(",d,");","if(",C,"){",h,"=",C,".dtype;","}else if(",d,".constant){",n.state,"=",2,";",r.map(function(a,f){return n[a]+"="+
d+".length>="+f+"?"+d+"["+f+"]:0;"}).join(""),"}else{",C,"=",g,".getBuffer(",d,".buffer);",h,'="type" in ',d,"?",E.glTypes,"[",d,".type]:",C,".dtype;",n.normalized,"=!!",d,".normalized;");b("size");b("offset");b("stride");b("divisor");m("}}");return n})});return n}function fa(a){var f=a["static"],e=a.dynamic,g={};Object.keys(f).forEach(function(a){var m=f[a];g[a]=b(function(a,f){return"number"===typeof m||"boolean"===typeof m?""+m:a.link(m)})});Object.keys(e).forEach(function(a){var f=e[a];g[a]=d(f,
function(a,m){return a.invoke(m,f)})});return g}function S(a,f,b){var d=a.shared.context,e=a.scope();Object.keys(b).forEach(function(g){f.save(d,"."+g);e(d,".",g,"=",b[g].append(a,f),";")});f(e)}function V(a,f,b){var d=a.shared,e=d.gl,g=d.framebuffer,n;z&&(n=f.def(d.extensions,".webgl_draw_buffers"));var k=a.constants,d=k.drawBuffer,k=k.backBuffer;a=b?b.append(a,f):f.def(g,".next");f("if(",g,".dirty||",a,"!==",g,".cur){","if(",a,"){",e,".bindFramebuffer(",36160,",",a,".framebuffer);");z&&f(n,".drawBuffersWEBGL(",
d,"[",a,".colorAttachments.length]);");f("}else{",e,".bindFramebuffer(",36160,",null);");z&&f(n,".drawBuffersWEBGL(",k,");");f("}",g,".cur=",a,";",g,".dirty=false;","}")}function Ea(a,f,b){var d=a.shared,e=d.gl,g=a.current,n=a.next,k=d.current,l=d.next,h=a.cond(k,".dirty");Ca.forEach(function(f){f=Q(f);if(!(f in b.state)){var d,E;if(f in n){d=n[f];E=g[f];var c=y(ka[f].length,function(a){return h.def(d,"[",a,"]")});h(a.cond(c.map(function(a,f){return a+"!=="+E+"["+f+"]"}).join("||")).then(e,".",ma[f],
"(",c,");",c.map(function(a,f){return E+"["+f+"]="+a}).join(";"),";"))}else d=h.def(l,".",f),c=a.cond(d,"!==",k,".",f),h(c),f in la?c(a.cond(d).then(e,".enable(",la[f],");")["else"](e,".disable(",la[f],");"),k,".",f,"=",d,";"):c(e,".",ma[f],"(",d,");",k,".",f,"=",d,";")}});0===Object.keys(b.state).length&&h(k,".dirty=false;");f(h)}function va(a,f,b,d){var e=a.shared,g=a.current,n=e.current,k=e.gl;l(Object.keys(b)).forEach(function(e){var l=b[e];if(!d||d(l)){var h=l.append(a,f);if(la[e]){var c=la[e];
v(l)?h?f(k,".enable(",c,");"):f(k,".disable(",c,");"):f(a.cond(h).then(k,".enable(",c,");")["else"](k,".disable(",c,");"));f(n,".",e,"=",h,";")}else if(H(h)){var C=g[e];f(k,".",ma[e],"(",h,");",h.map(function(a,f){return C+"["+f+"]="+a}).join(";"),";")}else f(k,".",ma[e],"(",h,");",n,".",e,"=",h,";")}})}function X(a,f){I&&!a.instancing&&(a.instancing=f.def(a.shared.extensions,".angle_instanced_arrays"))}function aa(a,f,b,d,e){function g(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}
function n(a){u=f.def();a(u,"=",g(),";");"string"===typeof e?a(c,".count+=",e,";"):a(c,".count++;");pa&&(d?(t=f.def(),a(t,"=",I,".getNumPendingQueries();")):a(I,".beginQuery(",c,");"))}function k(a){a(c,".cpuTime+=",g(),"-",u,";");pa&&(d?a(I,".pushScopeStats(",t,",",I,".getNumPendingQueries(),",c,");"):a(I,".endQuery();"))}function l(a){var m=f.def(z,".profile");f(z,".profile=",a,";");f.exit(z,".profile=",m,";")}var h=a.shared,c=a.stats,z=h.current,I=h.timer;b=b.profile;var u,t;if(b){if(v(b)){b.enable?
(n(f),k(f.exit),l("true")):l("false");return}b=b.append(a,f);l(b)}else b=f.def(z,".profile");h=a.block();n(h);f("if(",b,"){",h,"}");a=a.block();k(a);f.exit("if(",b,"){",a,"}")}function ba(a,f,b,d,e){function g(a){switch(a){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function n(b,d,e){function g(){f("if(!",z,".pointer){",h,".enableVertexAttribArray(",c,");",z,".pointer=true;}");var b=e.type,k;k=e.size?
f.def(e.size,"||",d):d;f("if(",z,".type!==",b,"||",z,".size!==",k,"||",t.map(function(a){return z+"."+a+"!=="+e[a]}).join("||"),"){",h,".bindBuffer(",34962,",",C,".buffer);",h,".vertexAttribPointer(",[c,k,b,e.normalized,e.stride,e.offset],");",z,".type=",b,";",z,".size=",k,";",t.map(function(a){return z+"."+a+"="+e[a]+";"}).join(""),"}");I&&(b=e.divisor,f("if(",z,".divisor!==",b,"){",a.instancing,".vertexAttribDivisorANGLE(",[c,b],");",z,".divisor=",b,";}"))}function l(){f("if(",z,".pointer){",h,
".disableVertexAttribArray(",c,");",z,".pointer=false;","}if(",r.map(function(a,f){return z+"."+a+"!=="+u[f]}).join("||"),"){",h,".vertexAttrib4f(",c,",",u,");",r.map(function(a,f){return z+"."+a+"="+u[f]+";"}).join(""),"}")}var h=k.gl,c=f.def(b,".location"),z=f.def(k.attributes,"[",c,"]");b=e.state;var C=e.buffer,u=[e.x,e.y,e.z,e.w],t=["buffer","normalized","offset","stride"];1===b?g():2===b?l():(f("if(",b,"===",1,"){"),g(),f("}else{"),l(),f("}"))}var k=a.shared;d.forEach(function(d){var k=d.name,
h=b.attributes[k],l;if(h){if(!e(h))return;l=h.append(a,f)}else{if(!e(W))return;var c=a.scopeAttrib(k);l={};Object.keys(new ca).forEach(function(a){l[a]=f.def(c,".",a)})}n(a.link(d),g(d.info.type),l)})}function ra(a,f,b,d,e){for(var n=a.shared,l=n.gl,k,h=0;h<d.length;++h){var c=d[h],z=c.name,I=c.info.type,u=b.uniforms[z],c=a.link(c)+".location",t;if(u){if(!e(u))continue;if(v(u)){z=u.value;if(35678===I||35680===I)I=a.link(z._texture),f(l,".uniform1i(",c,",",I+".bind());"),f.exit(I,".unbind();");else if(35674===
I||35675===I||35676===I)z=a.global.def("new Float32Array(["+Array.prototype.slice.call(z)+"])"),u=2,35675===I?u=3:35676===I&&(u=4),f(l,".uniformMatrix",u,"fv(",c,",false,",z,");");else{switch(I){case 5126:k="1f";break;case 35664:k="2f";break;case 35665:k="3f";break;case 35666:k="4f";break;case 35670:k="1i";break;case 5124:k="1i";break;case 35671:k="2i";break;case 35667:k="2i";break;case 35672:k="3i";break;case 35668:k="3i";break;case 35673:k="4i";break;case 35669:k="4i"}f(l,".uniform",k,"(",c,",",
H(z)?Array.prototype.slice.call(z):z,");")}continue}else t=u.append(a,f)}else{if(!e(W))continue;t=f.def(n.uniforms,"[",g.id(z),"]")}z=1;switch(I){case 35678:case 35680:I=f.def(t,"._texture");f(l,".uniform1i(",c,",",I,".bind());");f.exit(I,".unbind();");continue;case 5124:case 35670:k="1i";break;case 35667:case 35671:k="2i";z=2;break;case 35668:case 35672:k="3i";z=3;break;case 35669:case 35673:k="4i";z=4;break;case 5126:k="1f";break;case 35664:k="2f";z=2;break;case 35665:k="3f";z=3;break;case 35666:k=
"4f";z=4;break;case 35674:k="Matrix2fv";break;case 35675:k="Matrix3fv";break;case 35676:k="Matrix4fv"}f(l,".uniform",k,"(",c,",");if("M"===k.charAt(0)){var c=Math.pow(I-35674+2,2),r=a.global.def("new Float32Array(",c,")");f("false,(Array.isArray(",t,")||",t," instanceof Float32Array)?",t,":(",y(c,function(a){return r+"["+a+"]="+t+"["+a+"]"}),",",r,")")}else 1<z?f(y(z,function(a){return t+"["+a+"]"})):f(t);f(");")}}function sa(a,f,b,d){function e(k){var g=c[k];return g?g.contextDep&&d.contextDynamic||
g.propDep?g.append(a,b):g.append(a,f):f.def(h,".",k)}function g(){function a(){b(F,".drawElementsInstancedANGLE(",[u,r,y,t+"<<(("+y+"-5121)>>1)",p],");")}function f(){b(F,".drawArraysInstancedANGLE(",[u,t,r,p],");")}z?H?a():(b("if(",z,"){"),a(),b("}else{"),f(),b("}")):f()}function n(){function a(){b(l+".drawElements("+[u,r,y,t+"<<(("+y+"-5121)>>1)"]+");")}function f(){b(l+".drawArrays("+[u,t,r]+");")}z?H?a():(b("if(",z,"){"),a(),b("}else{"),f(),b("}")):f()}var k=a.shared,l=k.gl,h=k.draw,c=d.draw,
z=function(){var k=c.elements,e=f;if(k){if(k.contextDep&&d.contextDynamic||k.propDep)e=b;k=k.append(a,e)}else k=e.def(h,".","elements");k&&e("if("+k+")"+l+".bindBuffer(34963,"+k+".buffer.buffer);");return k}(),u=e("primitive"),t=e("offset"),r=function(){var k=c.count,e=f;if(k){if(k.contextDep&&d.contextDynamic||k.propDep)e=b;k=k.append(a,e)}else k=e.def(h,".","count");return k}();if("number"===typeof r){if(0===r)return}else b("if(",r,"){"),b.exit("}");var p,F;I&&(p=e("instances"),F=a.instancing);
var y=z+".type",H=c.elements&&v(c.elements);I&&("number"!==typeof p||0<=p)?"string"===typeof p?(b("if(",p,">0){"),g(),b("}else if(",p,"<0){"),n(),b("}")):g():n()}function wa(a,f,b,d,e){f=Z();e=f.proc("body",e);I&&(f.instancing=e.def(f.shared.extensions,".angle_instanced_arrays"));a(f,e,b,d);return f.compile().body}function xa(a,f,b,d){X(a,f);ba(a,f,b,d.attributes,function(){return!0});ra(a,f,b,d.uniforms,function(){return!0});sa(a,f,f,b)}function Fa(a,f){var b=a.proc("draw",1);X(a,b);S(a,b,f.context);
V(a,b,f.framebuffer);Ea(a,b,f);va(a,b,f.state);aa(a,b,f,!1,!0);var d=f.shader.progVar.append(a,b);b(a.shared.gl,".useProgram(",d,".program);");if(f.shader.program)xa(a,b,f,f.shader.program);else{var e=a.global.def("{}"),g=b.def(d,".id"),n=b.def(e,"[",g,"]");b(a.cond(n).then(n,".call(this,a0);")["else"](n,"=",e,"[",g,"]=",a.link(function(b){return wa(xa,a,f,b,1)}),"(",d,");",n,".call(this,a0);"))}0<Object.keys(f.state).length&&b(a.shared.current,".dirty=true;")}function ya(a,f,b,d){function e(){return!0}
a.batchId="a1";X(a,f);ba(a,f,b,d.attributes,e);ra(a,f,b,d.uniforms,e);sa(a,f,f,b)}function za(a,f,b,d){function e(a){return a.contextDep&&n||a.propDep}function g(a){return!e(a)}X(a,f);var n=b.contextDep,k=f.def(),l=f.def();a.shared.props=l;a.batchId=k;var h=a.scope(),c=a.scope();f(h.entry,"for(",k,"=0;",k,"<","a1",";++",k,"){",l,"=","a0","[",k,"];",c,"}",h.exit);b.needsContext&&S(a,c,b.context);b.needsFramebuffer&&V(a,c,b.framebuffer);va(a,c,b.state,e);b.profile&&e(b.profile)&&aa(a,c,b,!1,!0);d?(ba(a,
h,b,d.attributes,g),ba(a,c,b,d.attributes,e),ra(a,h,b,d.uniforms,g),ra(a,c,b,d.uniforms,e),sa(a,h,c,b)):(f=a.global.def("{}"),d=b.shader.progVar.append(a,c),l=c.def(d,".id"),h=c.def(f,"[",l,"]"),c(a.shared.gl,".useProgram(",d,".program);","if(!",h,"){",h,"=",f,"[",l,"]=",a.link(function(f){return wa(ya,a,b,f,2)}),"(",d,");}",h,".call(this,a0[",k,"],",k,");"))}function ta(a,f){function b(a){return a.contextDep&&e||a.propDep}var d=a.proc("batch",2);a.batchId="0";X(a,d);var e=!1,g=!0;Object.keys(f.context).forEach(function(a){e=
e||f.context[a].propDep});e||(S(a,d,f.context),g=!1);var n=f.framebuffer,k=!1;n?(n.propDep?e=k=!0:n.contextDep&&e&&(k=!0),k||V(a,d,n)):V(a,d,null);f.state.viewport&&f.state.viewport.propDep&&(e=!0);Ea(a,d,f);va(a,d,f.state,function(a){return!b(a)});f.profile&&b(f.profile)||aa(a,d,f,!1,"a1");f.contextDep=e;f.needsContext=g;f.needsFramebuffer=k;g=f.shader.progVar;if(g.contextDep&&e||g.propDep)za(a,d,f,null);else if(g=g.append(a,d),d(a.shared.gl,".useProgram(",g,".program);"),f.shader.program)za(a,d,
f,f.shader.program);else{var n=a.global.def("{}"),k=d.def(g,".id"),h=d.def(n,"[",k,"]");d(a.cond(h).then(h,".call(this,a0,a1);")["else"](h,"=",n,"[",k,"]=",a.link(function(b){return wa(za,a,f,b,2)}),"(",g,");",h,".call(this,a0,a1);"))}0<Object.keys(f.state).length&&d(a.shared.current,".dirty=true;")}function Aa(a,f){function b(g){var k=f.shader[g];k&&d.set(e.shader,"."+g,k.append(a,d))}var d=a.proc("scope",3);a.batchId="a2";var e=a.shared,n=e.current;S(a,d,f.context);f.framebuffer&&f.framebuffer.append(a,
d);l(Object.keys(f.state)).forEach(function(b){var k=f.state[b].append(a,d);H(k)?k.forEach(function(f,e){d.set(a.next[b],"["+e+"]",f)}):d.set(e.next,"."+b,k)});aa(a,d,f,!0,!0);["elements","offset","count","instances","primitive"].forEach(function(b){var k=f.draw[b];k&&d.set(e.draw,"."+b,""+k.append(a,d))});Object.keys(f.uniforms).forEach(function(b){d.set(e.uniforms,"["+g.id(b)+"]",f.uniforms[b].append(a,d))});Object.keys(f.attributes).forEach(function(b){var e=f.attributes[b].append(a,d),g=a.scopeAttrib(b);
Object.keys(new ca).forEach(function(a){d.set(g,"."+a,e[a])})});b("vert");b("frag");0<Object.keys(f.state).length&&(d(n,".dirty=true;"),d.exit(n,".dirty=true;"));d("a1(",a.shared.context,",a0,0);")}var ca=n.Record,f={add:32774,subtract:32778,"reverse subtract":32779};q.ext_blend_minmax&&(f.min=32775,f.max=32776);var I=q.angle_instanced_arrays,z=q.webgl_draw_buffers,ka={dirty:!0,profile:Y.profile},ua={},Ca=[],la={},ma={};O("dither",3024);O("blend.enable",3042);L("blend.color","blendColor",[0,0,0,0]);
L("blend.equation","blendEquationSeparate",[32774,32774]);L("blend.func","blendFuncSeparate",[1,0,1,0]);O("depth.enable",2929,!0);L("depth.func","depthFunc",513);L("depth.range","depthRange",[0,1]);L("depth.mask","depthMask",!0);L("colorMask","colorMask",[!0,!0,!0,!0]);O("cull.enable",2884);L("cull.face","cullFace",1029);L("frontFace","frontFace",2305);L("lineWidth","lineWidth",1);O("polygonOffset.enable",32823);L("polygonOffset.offset","polygonOffset",[0,0]);O("sample.alpha",32926);O("sample.enable",
32928);L("sample.coverage","sampleCoverage",[1,!1]);O("stencil.enable",2960);L("stencil.mask","stencilMask",-1);L("stencil.func","stencilFunc",[519,0,-1]);L("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]);L("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]);O("scissor.enable",3089);L("scissor.box","scissor",[0,0,c.drawingBufferWidth,c.drawingBufferHeight]);L("viewport","viewport",[0,0,c.drawingBufferWidth,c.drawingBufferHeight]);var Ha={gl:c,context:T,strings:g,next:ua,current:ka,
draw:R,elements:A,buffer:D,shader:M,attributes:n.state,uniforms:P,framebuffer:J,extensions:q,timer:pa,isBufferArgs:h},Da={primTypes:t,compareFuncs:B,blendFuncs:u,blendEquations:f,stencilOps:F,glTypes:K,orientationType:e};z&&(Da.backBuffer=[1029],Da.drawBuffer=y(x.maxDrawbuffers,function(a){return 0===a?[0]:y(a,function(a){return 36064+a})}));var Ja=0;return{next:ua,current:ka,procs:function(){var a=Z(),f=a.proc("poll"),b=a.proc("refresh"),d=a.block();f(d);b(d);var e=a.shared,g=e.gl,n=e.next,k=e.current;
d(k,".dirty=false;");V(a,f);b(e.framebuffer,".dirty=true;");V(a,b);Object.keys(la).forEach(function(e){var h=la[e],l=d.def(n,".",e),c=a.block();c("if(",l,"){",g,".enable(",h,")}else{",g,".disable(",h,")}",k,".",e,"=",l,";");b(c);f("if(",l,"!==",k,".",e,"){",c,"}")});Object.keys(ma).forEach(function(e){var h=ma[e],l=ka[e],c,z,I=a.block();I(g,".",h,"(");H(l)?(h=l.length,c=a.global.def(n,".",e),z=a.global.def(k,".",e),I(y(h,function(a){return c+"["+a+"]"}),");",y(h,function(a){return z+"["+a+"]="+c+
"["+a+"];"}).join("")),f("if(",y(h,function(a){return c+"["+a+"]!=="+z+"["+a+"]"}).join("||"),"){",I,"}")):(c=d.def(n,".",e),z=d.def(k,".",e),I(c,");",k,".",e,"=",c,";"),f("if(",c,"!==",z,"){",I,"}"));b(I)});return a.compile()}(),compile:function(a,f,b,d,e){var g=Z();g.stats=g.link(e);e=qa(a);var n=ha(a,e),k=ia(a),h=U(a),c=oa(a),l=n.viewport;l&&(h.viewport=l);l=Q("scissor.box");(n=n[l])&&(h[l]=n);n=0<Object.keys(h).length;e={framebuffer:e,draw:k,shader:c,state:h,dirty:n};e.profile=na(a);e.uniforms=
da(b);e.attributes=ea(f);e.context=fa(d);Fa(g,e);Aa(g,e);ta(g,e);return g.compile()}}}},{"./constants/dtypes.json":5,"./constants/primitives.json":6,"./util/codegen":22,"./util/is-array-like":24,"./util/is-ndarray":25,"./util/is-typed-array":26,"./util/loop":27}],9:[function(c,q,w){function h(b,d){this.id=v++;this.type=b;this.data=d}function l(b){if(0===b.length)return[];var d=b.charAt(0),a=b.charAt(b.length-1);if(1<b.length&&d===a&&('"'===d||"'"===d))return['"'+b.substr(1,b.length-2).replace(/\\/g,
"\\\\").replace(/"/g,'\\"')+'"'];if(d=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(b))return l(b.substr(0,d.index)).concat(l(d[1])).concat(l(b.substr(d.index+d[0].length)));d=b.split(".");if(1===d.length)return['"'+b.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];b=[];for(a=0;a<d.length;++a)b=b.concat(l(d[a]));return b}function p(b){return"["+l(b).join("][")+"]"}var v=0;q.exports={define:function(b,d){switch(typeof d){case "boolean":case "number":case "string":return new h(b,p(d+""));case "undefined":return new h(b|
128,null)}},isDynamic:function(b){return"function"===typeof b&&!b._reglType||b instanceof h},unbox:function(b,d){if(b instanceof h){if(b.type&128)return new h(b.type&-129,p(d))}else if("function"===typeof b)return new h(0,b);return b},accessor:p}},{}],10:[function(c,q,w){var h=c("./util/is-typed-array"),l=c("./util/is-ndarray"),p=c("./util/values"),v=c("./constants/primitives.json"),b=c("./constants/usage.json");q.exports=function(d,a,c,q){function x(a){this.id=r++;K[this.id]=this;this.buffer=a;this.primType=
4;this.type=this.vertCount=0}function H(b,d,u,t,g,r,p){(r=p)||h(d)&&(!l(d)||h(d.data))||(r=a.oes_element_index_uint?5125:5123);b.buffer.bind();c._initBuffer(b.buffer,d,u,r,3);d=p;if(!p){switch(b.buffer.dtype){case 5121:case 5120:d=5121;break;case 5123:case 5122:d=5123;break;case 5125:case 5124:d=5125}b.buffer.dtype=d}b.type=d;0>g&&(g=b.buffer.byteLength,5123===d?g>>=1:5125===d&&(g>>=2));b.vertCount=g;g=t;0>t&&(g=4,t=b.buffer.dimension,1===t&&(g=0),2===t&&(g=1),3===t&&(g=4));b.primType=g}function t(a){q.elementsCount--;
delete K[a.id];a.buffer.destroy();a.buffer=null}var K={},r=0,u={uint8:5121,uint16:5123};a.oes_element_index_uint&&(u.uint32=5125);x.prototype.bind=function(){this.buffer.bind()};var B=[];return{create:function(a){function e(a){if(a)if("number"===typeof a)r(a),p.primType=4,p.vertCount=a|0,p.type=5121;else{var c=null,t=35044,y=-1,F=-1,q=0,B=0;Array.isArray(a)||h(a)||l(a)?c=a:("data"in a&&(c=a.data),"usage"in a&&(t=b[a.usage]),"primitive"in a&&(y=v[a.primitive]),"count"in a&&(F=a.count|0),"length"in
a&&(q=a.length|0),"type"in a&&(B=u[a.type]));c?H(p,c,t,y,F,q,B):(a=p.buffer,a.bind(),d.bufferData(34963,q,t),a.dtype=B||5121,a.usage=t,a.dimension=3,a.byteLength=q,p.primType=0>y?4:y,p.vertCount=0>F?0:F,p.type=a.dtype)}else r(),p.primType=4,p.vertCount=0,p.type=5121;return e}var r=c.create(null,34963,!0),p=new x(r._buffer);q.elementsCount++;e(a);e._reglType="elements";e._elements=p;e.subdata=function(a,b){r.subdata(a,b);return e};e.destroy=function(){t(p)};return e},createStream:function(a){var b=
B.pop();b||(b=new x(c.create(null,34963,!0)._buffer));H(b,a,35040,-1,-1,0,0);return b},destroyStream:function(a){B.push(a)},getElements:function(a){return"function"===typeof a&&a._elements instanceof x?a._elements:null},clear:function(){p(K).forEach(t)}}}},{"./constants/primitives.json":6,"./constants/usage.json":7,"./util/is-ndarray":25,"./util/is-typed-array":26,"./util/values":31}],11:[function(c,q,w){q.exports=function(c,l){function p(a){a=a.toLowerCase();if(a in v)return!0;var b;try{b=v[a]=c.getExtension(a)}catch(d){}return!!b}
for(var v={},b=0;b<l.extensions.length;++b){var d=l.extensions[b];if(!p(d))return l.onDestroy(),l.onDone('"'+d+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}l.optionalExtensions.forEach(p);return{extensions:v,refresh:function(){l.extensions.forEach(p);l.optionalExtensions.forEach(p)}}}},{}],12:[function(c,q,w){var h=c("./util/values"),l=c("./util/extend"),p=[];p[6406]=1;p[6409]=1;p[6410]=2;p[6407]=3;p[6408]=4;var v=[];v[5121]=1;
v[5126]=4;v[36193]=2;q.exports=function(b,d,a,c,q,x){function H(a,b,d){this.target=a;this.texture=b;this.renderbuffer=d;var e=a=0;b?(a=b.width,e=b.height):d&&(a=d.width,e=d.height);this.width=a;this.height=e}function t(a){a&&(a.texture&&a.texture._texture.decRef(),a.renderbuffer&&a.renderbuffer._renderbuffer.decRef())}function K(a,b,d){a&&(a.texture?a.texture._texture.refCount+=1:a.renderbuffer._renderbuffer.refCount+=1)}function r(a,d){d?d.texture?b.framebufferTexture2D(36160,a,d.target,d.texture._texture.texture,
0):b.framebufferRenderbuffer(36160,a,36161,d.renderbuffer._renderbuffer.renderbuffer):b.framebufferTexture2D(36160,a,3553,null,0)}function u(a){var b=3553,d=null,e=null,g=a;"object"===typeof a&&(g=a.data);a=g._reglType;"texture2d"===a?d=g:"textureCube"===a?d=g:"renderbuffer"===a&&(e=g,b=36161);return new H(b,d,e)}function B(a,b,d,e,g){if(d)return a=c.create2D({width:a,height:b,format:e,type:g}),a._texture.refCount=0,new H(3553,a,null);a=q.create({width:a,height:b,format:e});a._renderbuffer.refCount=
0;return new H(36161,null,a)}function F(a){return a&&(a.texture||a.renderbuffer)}function e(a,b,d){a&&(a.texture?a.texture.resize(b,d):a.renderbuffer&&a.renderbuffer.resize(b,d))}function W(){this.id=J++;P[this.id]=this;this.framebuffer=b.createFramebuffer();this.height=this.width=0;this.colorAttachments=[];this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function G(a){a.colorAttachments.forEach(t);t(a.depthAttachment);t(a.stencilAttachment);t(a.depthStencilAttachment)}
function g(a){b.deleteFramebuffer(a.framebuffer);a.framebuffer=null;x.framebufferCount--;delete P[a.id]}function w(d){var e;b.bindFramebuffer(36160,d.framebuffer);var g=d.colorAttachments;for(e=0;e<g.length;++e)r(36064+e,g[e]);for(e=g.length;e<a.maxColorAttachments;++e)r(36064+e,null);r(36096,d.depthAttachment);r(36128,d.stencilAttachment);r(33306,d.depthStencilAttachment);b.checkFramebufferStatus(36160);b.bindFramebuffer(36160,N.next);N.current=N.next}var N={current:null,next:null,dirty:!1},ja=["rgba"],
A=["rgba4","rgb565","rgb5 a1"];d.ext_srgb&&A.push("srgba");d.ext_color_buffer_half_float&&A.push("rgba16f","rgb16f");d.webgl_color_buffer_float&&A.push("rgba32f");var ga=["uint8"];d.oes_texture_half_float&&ga.push("half float");d.oes_texture_float&&ga.push("float");var J=0,P={};return l(N,{getFramebuffer:function(a){return"function"===typeof a&&"framebuffer"===a._reglType&&(a=a._framebuffer,a instanceof W)?a:null},create:function(a,b){function c(a,b){var e,g=0,l=0,n=!0,t=!0;e=null;var r=!0,y="rgba",
q="uint8",H=1,x=null,D=null,N=null,W=!1;if("number"===typeof a)g=a|0,l=b|0||g;else if(a){"shape"in a?(l=a.shape,g=l[0],l=l[1]):("radius"in a&&(g=l=a.radius),"width"in a&&(g=a.width),"height"in a&&(l=a.height));if("color"in a||"colors"in a)e=a.color||a.colors,Array.isArray(e);e||("colorCount"in a&&(H=a.colorCount|0),"colorTexture"in a&&(r=!!a.colorTexture,y="rgba4"),"colorType"in a&&(q=a.colorType,r||("half float"===q?d.ext_color_buffer_half_float&&(y="rgba16f"):"float"===q&&d.webgl_color_buffer_float&&
(y="rgba32f"))),"colorFormat"in a&&(y=a.colorFormat,0<=ja.indexOf(y)?r=!0:0<=A.indexOf(y)&&(r=!1)));if("depthTexture"in a||"depthStencilTexture"in a)W=!(!a.depthTexture&&!a.depthStencilTexture);"depth"in a&&("boolean"===typeof a.depth?n=a.depth:(x=a.depth,t=!1));"stencil"in a&&("boolean"===typeof a.stencil?t=a.stencil:(D=a.stencil,n=!1));"depthStencil"in a&&("boolean"===typeof a.depthStencil?n=t=a.depthStencil:(N=a.depthStencil,t=n=!1))}else g=l=1;var J=null,V=null,M=null,P=null;if(Array.isArray(e))J=
e.map(u);else if(e)J=[u(e)];else for(J=Array(H),e=0;e<H;++e)J[e]=B(g,l,r,y,q);g=g||J[0].width;l=l||J[0].height;x?V=u(x):n&&!t&&(V=B(g,l,W,"depth","uint32"));D?M=u(D):t&&!n&&(M=B(g,l,!1,"stencil","uint8"));N?P=u(N):!x&&!D&&t&&n&&(P=B(g,l,W,"depth stencil","depth stencil"));n=null;for(e=0;e<J.length;++e)K(J[e],g,l),J[e]&&J[e].texture&&(t=p[J[e].texture._texture.format]*v[J[e].texture._texture.type],null===n&&(n=t));K(V,g,l);K(M,g,l);K(P,g,l);G(h);h.width=g;h.height=l;h.colorAttachments=J;h.depthAttachment=
V;h.stencilAttachment=M;h.depthStencilAttachment=P;c.color=J.map(F);c.depth=F(V);c.stencil=F(M);c.depthStencil=F(P);c.width=h.width;c.height=h.height;w(h);return c}var h=new W;x.framebufferCount++;c(a,b);c.resize=function(a,b){var d=a|0,g=b|0||d;if(d===h.width&&g===h.height)return c;for(var l=h.colorAttachments,n=0;n<l.length;++n)e(l[n],d,g);e(h.depthAttachment,d,g);e(h.stencilAttachment,d,g);e(h.depthStencilAttachment,d,g);h.width=c.width=d;h.height=c.height=g;w(h);return c};c._reglType="framebuffer";
c._framebuffer=h;c.destroy=function(){g(h);G(h)};return c},clear:function(){h(P).forEach(g)}})}},{"./util/extend":23,"./util/values":31}],13:[function(c,q,w){q.exports=function(c,l){var p=1;l.ext_texture_filter_anisotropic&&(p=c.getParameter(34047));var v=1,b=1;l.webgl_draw_buffers&&(v=c.getParameter(34852),b=c.getParameter(36063));return{colorBits:[c.getParameter(3410),c.getParameter(3411),c.getParameter(3412),c.getParameter(3413)],depthBits:c.getParameter(3414),stencilBits:c.getParameter(3415),
subpixelBits:c.getParameter(3408),extensions:Object.keys(l).filter(function(b){return!!l[b]}),maxAnisotropic:p,maxDrawbuffers:v,maxColorAttachments:b,pointSizeDims:c.getParameter(33901),lineWidthDims:c.getParameter(33902),maxViewportDims:c.getParameter(3386),maxCombinedTextureUnits:c.getParameter(35661),maxCubeMapSize:c.getParameter(34076),maxRenderbufferSize:c.getParameter(34024),maxTextureUnits:c.getParameter(34930),maxTextureSize:c.getParameter(3379),maxAttributes:c.getParameter(34921),maxVertexUniforms:c.getParameter(36347),
maxVertexTextureUnits:c.getParameter(35660),maxVaryingVectors:c.getParameter(36348),maxFragmentUniforms:c.getParameter(36349),glsl:c.getParameter(35724),renderer:c.getParameter(7937),vendor:c.getParameter(7936),version:c.getParameter(7938)}}},{}],14:[function(c,q,w){var h=c("./util/is-typed-array");q.exports=function(c,p,v){return function(b){var d=0,a=0,y=v.framebufferWidth,q=v.framebufferHeight,x=null;h(b)?x=b:2===arguments.length?(y=arguments[0]|0,q=arguments[1]|0):b&&(d=b.x|0,a=b.y|0,y=b.width||
v.framebufferWidth,q=b.height||v.framebufferHeight,x=b.data||null);p();x=x||new Uint8Array(y*q*4);c.pixelStorei(3333,4);c.readPixels(d,a,y,q,6408,5121,x);return x}}},{"./util/is-typed-array":26}],15:[function(c,q,w){var h=c("./util/values");q.exports=function(c,p,v,b){function d(a){this.id=q++;this.refCount=1;this.renderbuffer=a;this.format=32854;this.height=this.width=0}function a(a){var d=a.renderbuffer;c.bindRenderbuffer(36161,null);c.deleteRenderbuffer(d);a.renderbuffer=null;a.refCount=0;delete x[a.id];
b.renderbufferCount--}var y={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};p.ext_srgb&&(y.srgba=35907);p.ext_color_buffer_half_float&&(y.rgba16f=34842,y.rgb16f=34843);p.webgl_color_buffer_float&&(y.rgba32f=34836);var q=0,x={};d.prototype.decRef=function(){0>=--this.refCount&&a(this)};return{create:function(a,h){function p(a,b){var d=0,e=0,h=32854;"object"===typeof a&&a?("shape"in a?(e=a.shape,d=e[0]|0,e=e[1]|0):("radius"in a&&(d=e=a.radius|0),"width"in a&&
(d=a.width|0),"height"in a&&(e=a.height|0)),"format"in a&&(h=y[a.format])):"number"===typeof a?(d=a|0,e="number"===typeof b?b|0:d):a||(d=e=1);if(d!==r.width||e!==r.height||h!==r.format)return p.width=r.width=d,p.height=r.height=e,r.format=h,c.bindRenderbuffer(36161,r.renderbuffer),c.renderbufferStorage(36161,h,d,e),p}var r=new d(c.createRenderbuffer());x[r.id]=r;b.renderbufferCount++;p(a,h);p.resize=function(a,b){var d=a|0,e=b|0||d;if(d===r.width&&e===r.height)return p;p.width=r.width=d;p.height=
r.height=e;c.bindRenderbuffer(36161,r.renderbuffer);c.renderbufferStorage(36161,r.format,d,e);return p};p._reglType="renderbuffer";p._renderbuffer=r;p.destroy=function(){r.decRef()};return p},clear:function(){h(x).forEach(a)}}}},{"./util/values":31}],16:[function(c,q,w){var h=c("./util/values");q.exports=function(c,p,v){function b(a,b,d,c){this.name=a;this.id=b;this.location=d;this.info=c}function d(a,b){for(var d=0;d<a.length;++d)if(a[d].id===b.id){a[d].location=b.location;return}a.push(b)}function a(a,
b,d){d=35632===a?D:x;var h=d[b];if(!h){var e=p.str(b),h=c.createShader(a);c.shaderSource(h,e);c.compileShader(h);d[b]=h}return h}function q(a,b){this.id=K++;this.fragId=a;this.vertId=b;this.program=null;this.uniforms=[];this.attributes=[]}var D={},x={},H={},t=[],K=0;return{clear:function(){var a=c.deleteShader.bind(c);h(D).forEach(a);D={};h(x).forEach(a);x={};t.forEach(function(a){c.deleteProgram(a.program)});t.length=0;H={};v.shaderCount=0},program:function(h,u,x){v.shaderCount++;(x=H[u])||(x=H[u]=
{});var K=x[h];if(!K){var e=K=new q(u,h),D,G;D=a(35632,e.fragId);G=a(35633,e.vertId);u=e.program=c.createProgram();c.attachShader(u,D);c.attachShader(u,G);c.linkProgram(u);var g=c.getProgramParameter(u,35718),w=e.uniforms;for(D=0;D<g;++D)if(G=c.getActiveUniform(u,D))if(1<G.size)for(var N=0;N<G.size;++N){var ja=G.name.replace("[0]","["+N+"]");d(w,new b(ja,p.id(ja),c.getUniformLocation(u,ja),G))}else d(w,new b(G.name,p.id(G.name),c.getUniformLocation(u,G.name),G));g=c.getProgramParameter(u,35721);e=
e.attributes;for(D=0;D<g;++D)(G=c.getActiveAttrib(u,D))&&d(e,new b(G.name,p.id(G.name),c.getAttribLocation(u,G.name),G));x[h]=K;t.push(K)}return K},shader:a,frag:null,vert:null}}},{"./util/values":31}],17:[function(c,q,w){q.exports=function(){return{bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0}}},{}],18:[function(c,q,w){q.exports=function(){var c={"":0},l=[""];return{id:function(p){var v=c[p];if(v)return v;v=c[p]=l.length;l.push(p);
return v},str:function(c){return l[c]}}}},{}],19:[function(c,q,w){function h(a){return Array.isArray(a)&&(0===a.length||"number"===typeof a[0])}function l(a){return Array.isArray(a)&&0!==a.length&&t(a[0])?!0:!1}function p(a){return Object.prototype.toString.call(a)}function v(a){if(!a)return!1;var b=p(a);return 0<=F.indexOf(b)?!0:h(a)||l(a)||D(a)}function b(a,b){36193===a.type?(a.data=H(b),x.freeType(b)):a.data=b}var d=c("./util/extend"),a=c("./util/values"),y=c("./util/is-typed-array"),D=c("./util/is-ndarray"),
x=c("./util/pool"),H=c("./util/to-half-float"),t=c("./util/is-array-like");w=c("./constants/arraytypes.json");var K=c("./constants/arraytypes.json"),r=[9984,9986,9985,9987],u=[0,6409,6410,6407,6408],B={};B[6409]=B[6406]=B[6402]=1;B[34041]=B[6410]=2;B[6407]=3;B[6408]=4;var F=Object.keys(w).concat(["[object HTMLCanvasElement]","[object CanvasRenderingContext2D]","[object HTMLImageElement]","[object HTMLVideoElement]"]);q.exports=function(e,c,q,g,F,N){function w(){this.format=this.internalformat=6408;
this.type=5121;this.flipY=this.premultiplyAlpha=this.compressed=!1;this.unpackAlignment=1;this.height=this.width=this.colorSpace=0;this.channels=4}function A(a,b){a.internalformat=b.internalformat;a.format=b.format;a.type=b.type;a.compressed=b.compressed;a.premultiplyAlpha=b.premultiplyAlpha;a.flipY=b.flipY;a.unpackAlignment=b.unpackAlignment;a.colorSpace=b.colorSpace;a.width=b.width;a.height=b.height;a.channels=b.channels}function ga(a,b){if("object"===typeof b&&b){"premultiplyAlpha"in b&&(a.premultiplyAlpha=
b.premultiplyAlpha);"flipY"in b&&(a.flipY=b.flipY);"alignment"in b&&(a.unpackAlignment=b.alignment);"colorSpace"in b&&(a.colorSpace=va[b.colorSpace]);"type"in b&&(a.type=X[b.type]);var d=a.width,e=a.height,c=a.channels,g=!1;"shape"in b?(d=b.shape[0],e=b.shape[1],3===b.shape.length&&(c=b.shape[2],g=!0)):("radius"in b&&(d=e=b.radius),"width"in b&&(d=b.width),"height"in b&&(e=b.height),"channels"in b&&(c=b.channels,g=!0));a.width=d|0;a.height=e|0;a.channels=c|0;d=!1;"format"in b&&(d=b.format,e=a.internalformat=
aa[d],a.format=wa[e],d in X&&!("type"in b)&&(a.type=X[d]),d in ba&&(a.compressed=!0),d=!0);!g&&d?a.channels=B[a.format]:g&&!d&&a.channels!==u[a.format]&&(a.format=a.internalformat=u[a.channels])}}function J(a){e.pixelStorei(37440,a.flipY);e.pixelStorei(37441,a.premultiplyAlpha);e.pixelStorei(37443,a.colorSpace);e.pixelStorei(3317,a.unpackAlignment)}function P(){w.call(this);this.yOffset=this.xOffset=0;this.data=null;this.needsFree=!1;this.element=null;this.needsCopy=!1}function n(a,d){var e=null;
v(d)?e=d:d&&(ga(a,d),"x"in d&&(a.xOffset=d.x|0),"y"in d&&(a.yOffset=d.y|0),v(d.data)&&(e=d.data));if(d.copy){var c=F.viewportWidth,g=F.viewportHeight;a.width=a.width||c-a.xOffset;a.height=a.height||g-a.yOffset;a.needsCopy=!0}else if(!e)a.width=a.width||1,a.height=a.height||1;else if(y(e))a.data=e,"type"in d||5121!==a.type||(a.type=K[Object.prototype.toString.call(e)]|0);else if(h(e)){c=e;g=a.width*a.height*a.channels;switch(a.type){case 5121:case 5123:case 5125:case 5126:g=x.allocType(a.type,g);g.set(c);
a.data=g;break;case 36193:a.data=H(c)}a.alignment=1;a.needsFree=!0}else if(D(e)){c=e.data;Array.isArray(c)||5121!==a.type||(a.type=K[Object.prototype.toString.call(c)]|0);var g=e.shape,n=e.stride,r,q,A,B;3===g.length?(A=g[2],B=n[2]):B=A=1;r=g[0];q=g[1];g=n[0];n=n[1];a.alignment=1;a.width=r;a.height=q;a.channels=A;a.format=a.internalformat=u[A];a.needsFree=!0;r=B;e=e.offset;A=a.width;B=a.height;q=a.channels;for(var J=x.allocType(36193===a.type?5126:a.type,A*B*q),m=0,E=0;E<B;++E)for(var N=0;N<A;++N)for(var w=
0;w<q;++w)J[m++]=c[g*N+n*E+r*w+e];b(a,J)}else if("[object HTMLCanvasElement]"===p(e)||"[object CanvasRenderingContext2D]"===p(e))"[object HTMLCanvasElement]"===p(e)?a.element=e:a.element=e.canvas,a.width=a.element.width,a.height=a.element.height;else if("[object HTMLImageElement]"===p(e))a.element=e,a.width=e.naturalWidth,a.height=e.naturalHeight;else if("[object HTMLVideoElement]"===p(e))a.element=e,a.width=e.videoWidth,a.height=e.videoHeight,a.needsPoll=!0;else if(l(e)){c=e[0].length;g=e.length;
n=1;if(t(e[0][0])){r=n=e[0][0].length;A=x.allocType(36193===a.type?5126:a.type,c*g*r);for(q=B=0;q<g;++q)for(J=e[q],m=0;m<c;++m)for(E=J[m],N=0;N<r;++N)A[B++]=E[N];b(a,A)}else{r=x.allocType(36193===a.type?5126:a.type,c*g);for(B=A=0;B<g;++B)for(q=e[B],J=0;J<c;++J)r[A++]=q[J];b(a,r)}a.alignment=1;a.width=c;a.height=g;a.channels=n;a.format=a.internalformat=u[n];a.needsFree=!0}}function M(a,b,d,c,h){var l=a.element,n=a.data,t=a.internalformat,p=a.format,r=a.type,q=a.width,m=a.height;J(a);l?e.texSubImage2D(b,
h,d,c,p,r,l):a.compressed?e.compressedTexSubImage2D(b,h,d,c,t,q,m,n):a.needsCopy?(g(),e.copyTexSubImage2D(b,h,d,c,a.xOffset,a.yOffset,q,m)):e.texSubImage2D(b,h,d,c,q,m,p,r,n)}function R(){return xa.pop()||new P}function T(a){a.needsFree&&x.freeType(a.data);P.call(a);xa.push(a)}function pa(){w.call(this);this.genMipmaps=!1;this.mipmapHint=4352;this.mipmask=0;this.images=Array(16)}function Y(a,b,d){var e=a.images[0]=R();a.mipmask=1;e.width=a.width=b;e.height=a.height=d}function Q(a,b){var d=null;if(v(b))d=
a.images[0]=R(),A(d,a),n(d,b),a.mipmask=1;else if(ga(a,b),Array.isArray(b.mipmap))for(var e=b.mipmap,c=0;c<e.length;++c)d=a.images[c]=R(),A(d,a),d.width>>=c,d.height>>=c,n(d,e[c]),a.mipmask|=1<<c;else d=a.images[0]=R(),A(d,a),n(d,b),a.mipmask=1;A(a,a.images[0])}function O(a,b){for(var d=a.images,c=0;c<d.length&&d[c];++c){var h=d[c],l=b,n=c,t=h.element,p=h.data,q=h.internalformat,r=h.format,m=h.type,u=h.width,v=h.height;J(h);t?e.texImage2D(l,n,r,r,m,t):h.compressed?e.compressedTexImage2D(l,n,q,u,v,
0,p):h.needsCopy?(g(),e.copyTexImage2D(l,n,r,h.xOffset,h.yOffset,u,v,0)):e.texImage2D(l,n,r,u,v,0,r,m,p)}}function L(){var a=Fa.pop()||new pa;w.call(a);for(var b=a.mipmask=0;16>b;++b)a.images[b]=null;return a}function Z(a){for(var b=a.images,d=0;d<b.length;++d)b[d]&&T(b[d]),b[d]=null;Fa.push(a)}function na(){this.magFilter=this.minFilter=9728;this.wrapT=this.wrapS=33071;this.anisotropic=1;this.genMipmaps=!1;this.mipmapHint=4352}function qa(a,b){"min"in b&&(a.minFilter=Ea[b.min],0<=r.indexOf(a.minFilter)&&
(a.genMipmaps=!0));"mag"in b&&(a.magFilter=V[b.mag]);var d=a.wrapS,e=a.wrapT;if("wrap"in b){var c=b.wrap;"string"===typeof c?d=e=S[c]:Array.isArray(c)&&(d=S[c[0]],e=S[c[1]])}else"wrapS"in b&&(d=S[b.wrapS]),"wrapT"in b&&(e=S[b.wrapT]);a.wrapS=d;a.wrapT=e;"anisotropic"in b&&(a.anisotropic=b.anisotropic);if("mipmap"in b){d=!1;switch(typeof b.mipmap){case "string":a.mipmapHint=fa[b.mipmap];d=a.genMipmaps=!0;break;case "boolean":d=a.genMipmaps=b.mipmap;break;case "object":a.genMipmaps=!1,d=!0}!d||"min"in
b||(a.minFilter=9984)}}function ha(a,b){e.texParameteri(b,10241,a.minFilter);e.texParameteri(b,10240,a.magFilter);e.texParameteri(b,10242,a.wrapS);e.texParameteri(b,10243,a.wrapT);c.ext_texture_filter_anisotropic&&e.texParameteri(b,34046,a.anisotropic);a.genMipmaps&&(e.hint(33170,a.mipmapHint),e.generateMipmap(b))}function oa(){var a=ya.pop()||new na;na.call(a);return a}function ia(a){w.call(this);this.mipmask=0;this.internalformat=6408;this.id=za++;this.refCount=1;this.target=a;this.texture=e.createTexture();
this.unit=-1;this.bindCount=0}function U(a){e.activeTexture(33984);e.bindTexture(a.target,a.texture)}function da(){var a=ca[0];a?e.bindTexture(a.target,a.texture):e.bindTexture(3553,null)}function ea(a){var b=a.texture,d=a.unit,c=a.target;0<=d&&(e.activeTexture(33984+d),e.bindTexture(c,null),ca[d]=null);e.deleteTexture(b);a.texture=null;a.params=null;a.pixels=null;a.refCount=0;delete ta[a.id];N.textureCount--}var fa={"don't care":4352,"dont care":4352,nice:4354,fast:4353},S={repeat:10497,clamp:33071,
mirror:33648},V={nearest:9728,linear:9729},Ea=d({"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987,mipmap:9987},V),va={none:0,browser:37444},X={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},aa={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},ba={};c.ext_srgb&&(aa.srgb=35904,aa.srgba=35906);c.oes_texture_float&&(X["float"]=5126);c.oes_texture_half_float&&(X.float16=
X["half float"]=36193);c.webgl_depth_texture&&(d(aa,{depth:6402,"depth stencil":34041}),d(X,{uint16:5123,uint32:5125,"depth stencil":34042}));c.webgl_compressed_texture_s3tc&&d(ba,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779});c.webgl_compressed_texture_atc&&d(ba,{"rgb arc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798});c.webgl_compressed_texture_pvrtc&&d(ba,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,
"rgba pvrtc 2bppv1":35843});c.webgl_compressed_texture_etc1&&(ba["rgb etc1"]=36196);var ra=Array.prototype.slice.call(e.getParameter(34467));Object.keys(ba).forEach(function(a){var b=ba[a];0<=ra.indexOf(b)&&(aa[a]=b)});var sa=Object.keys(aa);q.textureFormats=sa;var wa=sa.reduce(function(a,b){var d=aa[b];6409===d||6406===d||6409===d||6410===d||6402===d||34041===d?a[d]=d:32855===d||0<=b.indexOf("rgba")?a[d]=6408:a[d]=6407;return a},{}),xa=[],Fa=[],ya=[],za=0,ta={},Aa=q.maxTextureUnits,ca=Array(Aa).map(function(){return null});
d(ia.prototype,{bind:function(){this.bindCount+=1;var a=this.unit;if(0>a){for(var b=0;b<Aa;++b){var d=ca[b];if(d){if(0<d.bindCount)continue;d.unit=-1}ca[b]=this;a=b;break}this.unit=a;e.activeTexture(33984+a);e.bindTexture(this.target,this.texture)}return a},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&ea(this)}});return{create2D:function(a,b){function d(a,b){var f=oa(),e=L();"number"===typeof a?"number"===typeof b?Y(e,a|0,b|0):Y(e,a|0,a|0):a?(qa(f,a),Q(e,a)):Y(e,1,1);
f.genMipmaps&&(e.mipmask=(e.width<<1)-1);c.mipmask=e.mipmask;A(c,e);c.internalformat=e.internalformat;d.width=e.width;d.height=e.height;U(c);O(e,3553);ha(f,3553);da();ya.push(f);Z(e);return d}var c=new ia(3553);ta[c.id]=c;N.textureCount++;d(a,b);d.subimage=function(a,b,e,f){b|=0;e|=0;f|=0;var g=R();A(g,c);g.width>>=f;g.height>>=f;g.width-=b;g.height-=e;n(g,a);U(c);M(g,3553,b,e,f);da();T(g);return d};d.resize=function(a,b){var f=a|0,g=b|0||f;if(f===c.width&&g===c.height)return d;d.width=c.width=f;
d.height=c.height=g;U(c);e.texImage2D(3553,0,c.format,f,g,0,c.format,c.type,null);da();return d};d._reglType="texture2d";d._texture=c;d.destroy=function(){c.decRef()};return d},createCube:function(a,b,d,c,g,h){function l(a,b,d,e,f,c){var g,h=oa();for(g=0;6>g;++g)p[g]=L();if("number"===typeof a||!a)for(a=a|0||1,g=0;6>g;++g)Y(p[g],a,a);else if("object"===typeof a)if(b)Q(p[0],a),Q(p[1],b),Q(p[2],d),Q(p[3],e),Q(p[4],f),Q(p[5],c);else if(qa(h,a),ga(t,a),"faces"in a)for(a=a.faces,g=0;6>g;++g)A(p[g],t),
Q(p[g],a[g]);else for(g=0;6>g;++g)Q(p[g],a);A(t,p[0]);t.mipmask=h.genMipmaps?(p[0].width<<1)-1:p[0].mipmask;t.internalformat=p[0].internalformat;l.width=p[0].width;l.height=p[0].height;U(t);for(g=0;6>g;++g)O(p[g],34069+g);ha(h,34067);da();ya.push(h);for(g=0;6>g;++g)Z(p[g]);return l}var t=new ia(34067);ta[t.id]=t;N.cubeCount++;var p=Array(6);l(a,b,d,c,g,h);l.subimage=function(a,b,d,e,f){d|=0;e|=0;f|=0;var c=R();A(c,t);c.width>>=f;c.height>>=f;c.width-=d;c.height-=e;n(c,b);U(t);M(c,34069+a,d,e,f);da();
T(c);return l};l.resize=function(a,b){var d=a|0,f=b|0||d;if(d===t.width&&f===t.height)return l;l.width=t.width=d;l.height=t.height=f;U(t);for(var c=0;6>c;++c)e.texImage2D(34069+c,0,t.format,d,f,0,t.format,t.type,null);da();return l};l._reglType="textureCube";l._texture=t;l.destroy=function(){t.decRef()};return l},clear:function(){for(var b=0;b<Aa;++b)e.activeTexture(33984+b),e.bindTexture(3553,null),ca[b]=null;a(ta).forEach(ea);N.cubeCount=0;N.textureCount=0},getTexture:function(a){return null}}}},
{"./constants/arraytypes.json":4,"./util/extend":23,"./util/is-array-like":24,"./util/is-ndarray":25,"./util/is-typed-array":26,"./util/pool":28,"./util/to-half-float":30,"./util/values":31}],20:[function(c,q,w){q.exports=function(c,l){function p(){this.endQueryIndex=this.startQueryIndex=-1;this.sum=0;this.stats=null}function q(a,b,d){var c=y.pop()||new p;c.startQueryIndex=a;c.endQueryIndex=b;c.sum=0;c.stats=d;D.push(c)}var b=l.ext_disjoint_timer_query;if(!b)return null;var d=[],a=[],y=[],D=[],x=
[],H=[];return{beginQuery:function(c){var h=d.pop()||b.createQueryEXT();b.beginQueryEXT(35007,h);a.push(h);q(a.length-1,a.length,c)},endQuery:function(){b.endQueryEXT(35007)},pushScopeStats:q,update:function(){var c,h;c=a.length;if(0!==c){H.length=Math.max(H.length,c+1);x.length=Math.max(x.length,c+1);x[0]=0;var l=H[0]=0;for(h=c=0;h<a.length;++h){var p=a[h];b.getQueryObjectEXT(p,34919)?(l+=b.getQueryObjectEXT(p,34918),d.push(p)):a[c++]=p;x[h+1]=l;H[h+1]=c}a.length=c;for(h=c=0;h<D.length;++h){var l=
D[h],q=l.startQueryIndex,p=l.endQueryIndex;l.sum+=x[p]-x[q];q=H[q];p=H[p];p===q?(l.stats.gpuTime+=l.sum/1E6,y.push(l)):(l.startQueryIndex=q,l.endQueryIndex=p,D[c++]=l)}D.length=c}},getNumPendingQueries:function(){return a.length},clear:function(){d.push.apply(d,a);for(var c=0;c<d.length;c++)b.deleteQueryEXT(d[c]);a.length=0;d.length=0}}}},{}],21:[function(c,q,w){q.exports="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date}},{}],22:[function(c,
q,w){function h(c){return Array.prototype.slice.call(c)}function l(c){return h(c).join("")}var p=c("./extend");q.exports=function(){function c(){var a=[],b=[];return p(function(){a.push.apply(a,h(arguments))},{def:function(){var c="v"+d++;b.push(c);0<arguments.length&&(a.push(c,"="),a.push.apply(a,h(arguments)),a.push(";"));return c},toString:function(){return l([0<b.length?"var "+b+";":"",l(a)])}})}function b(){function a(c,h){d(c,h,"=",b.def(c,h),";")}var b=c(),d=c(),h=b.toString,l=d.toString;return p(b,
{entry:b,exit:d,save:a,set:function(d,c,e){a(d,c);b(d,c,"=",e,";")},toString:function(){return h()+l()}})}var d=0,a=[],q=[],D=c(),x={};return{global:D,link:function(b){for(var c=0;c<q.length;++c)if(q[c]===b)return a[c];c="g"+d++;a.push(c);q.push(b);return c},block:c,proc:function(a,d){function c(){var a="a"+h.length;h.push(a);return a}var h=[];d=d||0;for(var q=0;q<d;++q)c();var q=b(),v=q.toString;return x[a]=p(q,{arg:c,toString:function(){return l(["function(",h.join(),"){",v(),"}"])}})},scope:b,
cond:function(){var a=l(arguments),d=b(),c=b(),q=d.toString,v=c.toString;return p(d,{then:function(){d.apply(d,h(arguments));return this},"else":function(){c.apply(c,h(arguments));return this},toString:function(){var b=v();b&&(b="else{"+b+"}");return l(["if(",a,"){",q(),"}",b])}})},compile:function(){var b=['"use strict";',D,"return {"];Object.keys(x).forEach(function(a){b.push('"',a,'":',x[a].toString(),",")});b.push("}");var d=l(b).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,
a.concat(d)).apply(null,q)}}}},{"./extend":23}],23:[function(c,q,w){q.exports=function(c,l){for(var p=Object.keys(l),q=0;q<p.length;++q)c[p[q]]=l[p[q]];return c}},{}],24:[function(c,q,w){var h=c("./is-typed-array");q.exports=function(c){return Array.isArray(c)||h(c)}},{"./is-typed-array":26}],25:[function(c,q,w){var h=c("./is-typed-array");q.exports=function(c){return!!c&&"object"===typeof c&&Array.isArray(c.shape)&&Array.isArray(c.stride)&&"number"===typeof c.offset&&c.shape.length===c.stride.length&&
(Array.isArray(c.data)||h(c.data))}},{"./is-typed-array":26}],26:[function(c,q,w){var h=c("../constants/arraytypes.json");q.exports=function(c){return Object.prototype.toString.call(c)in h}},{"../constants/arraytypes.json":4}],27:[function(c,q,w){q.exports=function(c,l){for(var p=Array(c),q=0;q<c;++q)p[q]=l(q);return p}},{}],28:[function(c,q,w){function h(b){var d,a;d=(65535<b)<<4;b>>>=d;a=(255<b)<<3;b>>>=a;d|=a;a=(15<b)<<2;b>>>=a;d|=a;a=(3<b)<<1;return d|a|b>>>a>>1}function l(b){a:{for(var d=16;268435456>=
d;d*=16)if(b<=d){b=d;break a}b=0}d=v[h(b)>>2];return 0<d.length?d.pop():new ArrayBuffer(b)}function p(b){v[h(b.byteLength)>>2].push(b)}var v=c("./loop")(8,function(){return[]});q.exports={alloc:l,free:p,allocType:function(b,d){var a=null;switch(b){case 5120:a=new Int8Array(l(d),0,d);break;case 5121:a=new Uint8Array(l(d),0,d);break;case 5122:a=new Int16Array(l(2*d),0,d);break;case 5123:a=new Uint16Array(l(2*d),0,d);break;case 5124:a=new Int32Array(l(4*d),0,d);break;case 5125:a=new Uint32Array(l(4*
d),0,d);break;case 5126:a=new Float32Array(l(4*d),0,d);break;default:return null}return a.length!==d?a.subarray(0,d):a},freeType:function(b){p(b.buffer)}}},{"./loop":27}],29:[function(c,q,w){q.exports="function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?{next:function(c){return requestAnimationFrame(c)},cancel:function(c){return cancelAnimationFrame(c)}}:{next:function(c){setTimeout(c,30)},cancel:clearTimeout}},{}],30:[function(c,q,w){var h=c("./pool"),l=new Float32Array(1),
p=new Uint32Array(l.buffer);q.exports=function(c){for(var b=h.allocType(5123,c.length),d=0;d<c.length;++d)if(isNaN(c[d]))b[d]=65535;else if(Infinity===c[d])b[d]=31744;else if(-Infinity===c[d])b[d]=64512;else{l[0]=c[d];var a=p[0],q=a>>>31<<15,D=(a<<1>>>24)-127,a=a>>13&1023;b[d]=-24>D?q:-14>D?q+(a+1024>>-14-D):15<D?q+31744:q+(D+15<<10)+a}return b}},{"./pool":28}],31:[function(c,q,w){q.exports=function(c){return Object.keys(c).map(function(l){return c[l]})}},{}],32:[function(c,q,w){function h(d,a,c){function h(){var a=
window.innerWidth,p=window.innerHeight;d!==document.body&&(p=d.getBoundingClientRect(),a=p.right-p.left,p=p.top-p.bottom);l.width=c*a;l.height=c*p;b(l.style,{width:a+"px",height:p+"px"})}var l=document.createElement("canvas");b(l.style,{border:0,margin:0,padding:0,top:0,left:0});d.appendChild(l);d===document.body&&(l.style.position="absolute",b(d.style,{margin:0,padding:0}));window.addEventListener("resize",h,!1);h();return{canvas:l,onDestroy:function(){window.removeEventListener("resize",h);d.removeChild(l)}}}
function l(b,a){function c(h){try{return b.getContext(h,a)}catch(l){return null}}return c("webgl")||c("experimental-webgl")||c("webgl-experimental")}function p(b){return"string"===typeof b?b.split():b}function v(b){return"string"===typeof b?document.querySelector(b):b}var b=c("./util/extend");q.exports=function(b){var a=b||{},c,q,x,w;b={};var t=[],K=[],r="undefined"===typeof window?1:window.devicePixelRatio,u=!1,B=function(a){},F=function(){};"string"===typeof a?c=document.querySelector(a):"object"===
typeof a&&("string"===typeof a.nodeName&&"function"===typeof a.appendChild&&"function"===typeof a.getBoundingClientRect?c=a:"function"===typeof a.drawArrays||"function"===typeof a.drawElements?(w=a,x=w.canvas):("gl"in a?w=a.gl:"canvas"in a?x=v(a.canvas):"container"in a&&(q=v(a.container)),"attributes"in a&&(b=a.attributes),"extensions"in a&&(t=p(a.extensions)),"optionalExtensions"in a&&(K=p(a.optionalExtensions)),"onDone"in a&&(B=a.onDone),"profile"in a&&(u=!!a.profile),"pixelRatio"in a&&(r=+a.pixelRatio)));
c&&("canvas"===c.nodeName.toLowerCase()?x=c:q=c);if(!w){if(!x){c=h(q||document.body,B,r);if(!c)return null;x=c.canvas;F=c.onDestroy}w=l(x,b)}return w?{gl:w,canvas:x,container:q,extensions:t,optionalExtensions:K,pixelRatio:r,profile:u,onDone:B,onDestroy:F}:(F(),B("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}},{"./util/extend":23}],33:[function(c,q,w){function h(a){throw Error("resl: "+a);}function l(a,b,d){Object.keys(a).forEach(function(a){0>b.indexOf(a)&&
h('invalid parameter "'+a+'" in '+d)})}function p(a,b){this.state=0;this.ready=!1;this.progress=0;this.name=a;this.cancel=b}var v=["manifest","onDone","onProgress","onError"],b=["type","src","stream","credentials","parser"],d=["onData","onDone"];q.exports=function(a){function c(b,d){if(b in a){var e=a[b];"function"!==typeof e&&h('invalid callback "'+b+'"');return e}return null}function q(a){function b(){if(!(2>l.readyState||1===n.state||-1===n.state)){if(200!==l.status)return w('error loading resource "'+
a.name+'"');if(2<l.readyState&&0===n.state){var c;c="binary"===a.type?l.response:l.responseText;if(h.data)try{r=h.data(c)}catch(e){return w(e)}else r=c}if(3<l.readyState&&0===n.state){if(h.done)try{r=h.done()}catch(e){return w(e)}n.state=1}F[d]=r;n.progress=.75*n.progress+.25;n.ready=a.stream&&!!r||1===n.state;t()}}var d=a.name,c=a.stream,e="binary"===a.type,h=a.parser,l=new XMLHttpRequest,r=null,n=new p(d,function(){1!==n.state&&-1!==n.state&&(l.onreadystatechange=null,l.abort(),n.state=-1)});l.onreadystatechange=
c?b:function(){4===l.readyState&&b()};e&&(l.responseType="arraybuffer");a.credentials&&(l.withCredentials=!0);l.open("GET",a.src,!0);l.send();return n}function x(a,b){function d(){if(0===r.state)if(n.data)try{u=n.data(b)}catch(a){return w(a)}else u=b}function c(b){d();F[q]=u;r.progress=b.lengthComputable?Math.max(r.progress,b.loaded/b.total):.75*r.progress+.25;r.ready=a.stream;t(q)}function e(){d();if(0===r.state){if(n.done)try{u=n.done()}catch(a){return w(a)}r.state=1}r.progress=1;r.ready=!0;F[q]=
u;l();t("finish "+q)}function h(){w('error loading asset "'+q+'"')}function l(){a.stream&&b.removeEventListener("progress",c);"image"===a.type?b.addEventListener("load",e):b.addEventListener("canplay",e);b.removeEventListener("error",h)}var q=a.name,n=a.parser,r=new p(q,function(){1!==r.state&&-1!==r.state&&(r.state=-1,l(),b.src="")}),u=b;a.stream&&b.addEventListener("progress",c);"image"===a.type?b.addEventListener("load",e):b.addEventListener("canplay",e);b.addEventListener("error",h);b.crossOrigin=
a.credentials?"use-credentials":"anonymous";b.src=a.src;return r}function w(a){-1!==e&&1!==e&&(e=-1,G.forEach(function(a){a.cancel()}),B?"string"===typeof a?B(Error("resl: "+a)):B(a):console.error("resl error:",a))}function t(a){if(-1!==e&&1!==e){var b=0,d=0;G.forEach(function(a){a.ready&&(d+=1);b+=a.progress});d===G.length?(e=1,r(F)):u&&u(b/G.length,a)}}"object"===typeof a&&a||h("invalid or missing configuration");l(a,v,"config");var K=a.manifest;"object"===typeof K&&K||h("missing manifest");var r=
c("onDone");r||h("missing onDone() callback");var u=c("onProgress"),B=c("onError"),F={},e=0,W={text:q,binary:function(a){return q(a)},image:function(a){return x(a,document.createElement("img"))},video:function(a){return x(a,document.createElement("video"))},audio:function(a){return x(a,document.createElement("audio"))}},G=Object.keys(K).map(function(a){function c(a,b){if(a in e.parser){var d=e.parser[a];"function"!==typeof d&&h("invalid parser callback "+a+' for asset "'+a+'"');return d}return b}
var e=K[a];"string"===typeof e?e={src:e}:"object"===typeof e&&e||h('invalid asset definition "'+a+'"');l(e,b,'asset "'+a+'"');var p={};"parser"in e&&("function"===typeof e.parser?p={data:e.parser}:"object"===typeof e.parser&&e.parser?(l(p,d,'parser for asset "'+a+'"'),"onData"in p||h('missing onData callback for parser in asset "'+a+'"'),p={data:c("onData"),done:c("onDone")}):h('invalid parser for asset "'+a+'"'));return{name:a,type:function(b,d,c){b in e&&(c=e[b]);0>d.indexOf(c)&&h("invalid "+b+
' "'+c+'" for asset "'+a+'", possible values: '+d);return c}("type",Object.keys(W),"text"),stream:!!e.stream,credentials:!!e.credentials,src:function(b,d,c){b in e?c=e[b]:d&&h("missing "+b+' for asset "'+a+'"');"string"!==typeof c&&h("invalid "+b+' for asset "'+a+'", must be a string');return c}("src",!0,""),parser:p}}).map(function(a){return W[a.type](a)})}},{}],34:[function(c,q,w){var h=c("./lib/util/extend"),l=c("./lib/dynamic"),p=c("./lib/util/raf"),v=c("./lib/util/clock"),b=c("./lib/strings"),
d=c("./lib/webgl"),a=c("./lib/extension"),y=c("./lib/limits"),D=c("./lib/buffer"),x=c("./lib/elements"),H=c("./lib/texture"),t=c("./lib/renderbuffer"),K=c("./lib/framebuffer"),r=c("./lib/attribute"),u=c("./lib/shader"),B=c("./lib/read"),F=c("./lib/core"),e=c("./lib/stats"),W=c("./lib/timer");q.exports=function(c){function g(){S=p.next(g);O.tick+=1;O.time=(v()-pa)/1E3;ga();for(var a=0;a<fa.length;++a)(0,fa[a])(O,null,0);n.flush();T&&T.update()}function q(a){}function w(a){}function ja(a){function b(a){var d=
{},c={};Object.keys(a).forEach(function(b){var e=a[b];l.isDynamic(e)?c[b]=l.unbox(e,b):d[b]=e});return{dynamic:c,"static":d}}function d(a){for(;t.length<a;)t.push(null);return t}var c=b(a.context||{}),e=b(a.uniforms||{}),g=b(a.attributes||{}),n=b(function(a){function b(a){if(a in d){var c=d[a];delete d[a];Object.keys(c).forEach(function(b){d[a+"."+b]=c[b]})}}var d=h({},a);delete d.uniforms;delete d.attributes;delete d.context;b("blend");b("depth");b("cull");b("stencil");b("polygonOffset");b("scissor");
b("sample");return d}(a));a={gpuTime:0,cpuTime:0,count:0};var c=U.compile(n,g,e,c,a),p=c.draw,q=c.batch,r=c.scope,t=[];return h(function(a,b){var c;if("function"===typeof a)return r.call(this,null,a,0);if("function"===typeof b)if("number"===typeof a)for(c=0;c<a;++c)r.call(this,null,b,c);else if(Array.isArray(a))for(c=0;c<a.length;++c)r.call(this,a[c],b,c);else return r.call(this,a,b,0);else if("number"===typeof a){if(0<a)return q.call(this,d(a|0),a|0)}else if(Array.isArray(a)){if(a.length)return q.call(this,
a,a.length)}else return p.call(this,a)},{stats:a})}function A(){var a=da.viewport,b=da.scissor_box;a[0]=a[1]=b[0]=b[1]=0;O.viewportWidth=O.framebufferWidth=O.drawingBufferWidth=a[2]=b[2]=n.drawingBufferWidth;O.viewportHeight=O.framebufferHeight=O.drawingBufferHeight=a[3]=b[3]=n.drawingBufferHeight}function ga(){A();U.procs.poll()}function J(){A();U.procs.refresh();T&&T.update()}var P=d(c);if(!P)return null;var n=P.gl,M=a(n,P);if(!M)return null;c=b();var R=e(),M=M.extensions,T=W(n,M),pa=v(),Y=n.drawingBufferWidth,
Q=n.drawingBufferHeight,O={tick:0,time:0,viewportWidth:Y,viewportHeight:Q,framebufferWidth:Y,framebufferHeight:Q,drawingBufferWidth:Y,drawingBufferHeight:Q,pixelRatio:P.pixelRatio},L=y(n,M),Z=D(n,R),na=x(n,M,Z,R),Y=r(n,M,L,Z,c),qa=u(n,c,R),ha=H(n,M,L,ga,O,R),oa=t(n,M,L,R),ia=K(n,M,L,ha,oa,R),Q=B(n,ga,O),U=F(n,c,M,L,Z,na,ha,ia,{},Y,qa,{elements:null,primitive:4,count:-1,offset:0,instances:-1},O,T,P),da=U.next,ea=n.canvas,fa=[],S=0;ea&&(ea.addEventListener("webglcontextlost",q,!1),ea.addEventListener("webglcontextrestored",
w,!1));J();c=h(ja,{clear:function(a){var b=0;U.procs.poll();var c=a.color;c&&(n.clearColor(+c[0]||0,+c[1]||0,+c[2]||0,+c[3]||0),b|=16384);"depth"in a&&(n.clearDepth(+a.depth),b|=256);"stencil"in a&&(n.clearStencil(a.stencil|0),b|=1024);n.clear(b)},prop:l.define.bind(null,1),context:l.define.bind(null,2),"this":l.define.bind(null,3),draw:ja({}),buffer:function(a){return Z.create(a,34962)},elements:na.create,texture:ha.create2D,cube:ha.createCube,renderbuffer:oa.create,framebuffer:ia.create,framebufferCube:function(a){},
attributes:n.getContextAttributes(),frame:function(a){fa.push(a);!S&&0<fa.length&&g();return{cancel:function(){var b=fa.find(function(b){return b===a});0>b||(fa.splice(b,1),0>=fa.length&&S&&(p.cancel(g),S=0))}}},limits:L,hasExtension:function(a){return 0<=L.extensions.indexOf(a.toLowerCase())},read:Q,destroy:function(){S&&(p.cancel(g),S=0);ea&&(ea.removeEventListener("webglcontextlost",q),ea.removeEventListener("webglcontextrestored",w));qa.clear();ia.clear();oa.clear();ha.clear();na.clear();Z.clear();
T&&T.clear();P.onDestroy()},_gl:n,_refresh:J,poll:function(){U.procs.poll();T&&T.update()},stats:R});P.onDone(null,c);return c}},{"./lib/attribute":2,"./lib/buffer":3,"./lib/core":8,"./lib/dynamic":9,"./lib/elements":10,"./lib/extension":11,"./lib/framebuffer":12,"./lib/limits":13,"./lib/read":14,"./lib/renderbuffer":15,"./lib/shader":16,"./lib/stats":17,"./lib/strings":18,"./lib/texture":19,"./lib/timer":20,"./lib/util/clock":21,"./lib/util/extend":23,"./lib/util/raf":29,"./lib/webgl":32}]},{},[1]);
